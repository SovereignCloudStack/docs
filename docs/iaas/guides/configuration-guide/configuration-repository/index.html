<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-iaas/guides/configuration-guide/configuration-repository" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Configuration Repository | One platform — standardized, built and operated by many.</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.scs.community/img/scs-og-basic.png"><meta data-rh="true" name="twitter:image" content="https://docs.scs.community/img/scs-og-basic.png"><meta data-rh="true" property="og:url" content="https://docs.scs.community/docs/iaas/guides/configuration-guide/configuration-repository"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Configuration Repository | One platform — standardized, built and operated by many."><meta data-rh="true" name="description" content="The configuration required for an OSISM managed cluster is stored in a single Git"><meta data-rh="true" property="og:description" content="The configuration required for an OSISM managed cluster is stored in a single Git"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.scs.community/docs/iaas/guides/configuration-guide/configuration-repository"><link data-rh="true" rel="alternate" href="https://docs.scs.community/docs/iaas/guides/configuration-guide/configuration-repository" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.scs.community/docs/iaas/guides/configuration-guide/configuration-repository" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"IaaS Layer","item":"https://docs.scs.community/docs/category/iaas-layer"},{"@type":"ListItem","position":2,"name":"Configuration Guide","item":"https://docs.scs.community/docs/iaas/guides/configuration-guide/"},{"@type":"ListItem","position":3,"name":"Configuration repository","item":"https://docs.scs.community/docs/iaas/guides/configuration-guide/configuration-repository"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="SCS Community Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="SCS Community Blog Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="SCS Community Blog JSON Feed">









<link rel="preconnect" href="https://matomo.scs.community/">
<script>var _paq=window._paq=window._paq||[];_paq.push(["setDocumentTitle",document.domain+"/"+document.title]),_paq.push(["disableCookies"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){var e="https://matomo.scs.community/";_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","2"]);var a=document,t=a.createElement("script"),p=a.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",p.parentNode.insertBefore(t,p)}()</script><link rel="stylesheet" href="/assets/css/styles.7136250c.css">
<script src="/assets/js/runtime~main.ff722ccb.js" defer="defer"></script>
<script src="/assets/js/main.6cc1e574.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="SCS" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="SCS" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/standards">Standards</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">For Operators</a><a class="navbar__item navbar__link" href="/contributor-docs">For Contributors</a><a class="navbar__item navbar__link" href="/user-docs">For Users</a><a class="navbar__item navbar__link" href="/community">Community</a><a class="navbar__item navbar__link" href="/docs/faq">FAQ</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/SovereignCloudStack/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs/category/iaas-layer"><span title="IaaS Layer" class="categoryLinkLabel_W154">IaaS Layer</span></a><button aria-label="Collapse sidebar category &#x27;IaaS Layer&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/iaas/guides/concept-guide/"><span title="Guides" class="categoryLinkLabel_W154">Guides</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/iaas/guides/concept-guide/"><span title="Concept Guide" class="categoryLinkLabel_W154">Concept Guide</span></a><button aria-label="Expand sidebar category &#x27;Concept Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/iaas/guides/deploy-guide/"><span title="Deploy Guide" class="categoryLinkLabel_W154">Deploy Guide</span></a><button aria-label="Expand sidebar category &#x27;Deploy Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/iaas/guides/upgrade-guide/"><span title="Upgrade Guide" class="categoryLinkLabel_W154">Upgrade Guide</span></a><button aria-label="Expand sidebar category &#x27;Upgrade Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/iaas/guides/configuration-guide/"><span title="Configuration Guide" class="categoryLinkLabel_W154">Configuration Guide</span></a><button aria-label="Collapse sidebar category &#x27;Configuration Guide&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/iaas/guides/configuration-guide/configuration-repository"><span title="Configuration repository" class="linkLabel_WmDU">Configuration repository</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iaas/guides/configuration-guide/inventory"><span title="Inventory" class="linkLabel_WmDU">Inventory</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iaas/guides/configuration-guide/manager"><span title="Manager" class="linkLabel_WmDU">Manager</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iaas/guides/configuration-guide/network"><span title="Network" class="linkLabel_WmDU">Network</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iaas/guides/configuration-guide/proxy"><span title="Proxy" class="linkLabel_WmDU">Proxy</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iaas/guides/configuration-guide/loadbalancer"><span title="Loadbalancer" class="linkLabel_WmDU">Loadbalancer</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/iaas/guides/configuration-guide/ceph/"><span title="Ceph" class="categoryLinkLabel_W154">Ceph</span></a><button aria-label="Expand sidebar category &#x27;Ceph&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/iaas/guides/configuration-guide/openstack/"><span title="OpenStack" class="categoryLinkLabel_W154">OpenStack</span></a><button aria-label="Expand sidebar category &#x27;OpenStack&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/iaas/guides/configuration-guide/commons/"><span title="Commons" class="categoryLinkLabel_W154">Commons</span></a><button aria-label="Expand sidebar category &#x27;Commons&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/iaas/guides/configuration-guide/services/"><span title="Services" class="categoryLinkLabel_W154">Services</span></a><button aria-label="Expand sidebar category &#x27;Services&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iaas/guides/configuration-guide/validations/"><span title="Validations" class="linkLabel_WmDU">Validations</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iaas/guides/configuration-guide/baremetal/"><span title="Baremetal" class="linkLabel_WmDU">Baremetal</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iaas/guides/configuration-guide/sonic/"><span title="SONiC" class="linkLabel_WmDU">SONiC</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/iaas/guides/operations-guide/"><span title="Operations Guide" class="categoryLinkLabel_W154">Operations Guide</span></a><button aria-label="Expand sidebar category &#x27;Operations Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/iaas/guides/troubleshooting-guide/"><span title="Troubleshooting Guide" class="categoryLinkLabel_W154">Troubleshooting Guide</span></a><button aria-label="Expand sidebar category &#x27;Troubleshooting Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/iaas/guides/"><span title="Guides" class="linkLabel_WmDU">Guides</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/iaas/guides/user-guide/"><span title="User Guide" class="categoryLinkLabel_W154">User Guide</span></a><button aria-label="Expand sidebar category &#x27;User Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/iaas/guides/developer-guide/"><span title="Developer Guide" class="categoryLinkLabel_W154">Developer Guide</span></a><button aria-label="Expand sidebar category &#x27;Developer Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/iaas/guides/migration-guide/"><span title="Migration Guide" class="categoryLinkLabel_W154">Migration Guide</span></a><button aria-label="Expand sidebar category &#x27;Migration Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/category/components"><span title="Components" class="categoryLinkLabel_W154">Components</span></a><button aria-label="Expand sidebar category &#x27;Components&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/category/deployment-examples"><span title="Deployment Examples" class="categoryLinkLabel_W154">Deployment Examples</span></a><button aria-label="Expand sidebar category &#x27;Deployment Examples&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/container/"><span title="Container Layer" class="categoryLinkLabel_W154">Container Layer</span></a><button aria-label="Expand sidebar category &#x27;Container Layer&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/operating-scs"><span title="Operating SCS" class="categoryLinkLabel_W154">Operating SCS</span></a><button aria-label="Expand sidebar category &#x27;Operating SCS&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/iam/"><span title="Identity and Access Management (IAM)" class="categoryLinkLabel_W154">Identity and Access Management (IAM)</span></a><button aria-label="Expand sidebar category &#x27;Identity and Access Management (IAM)&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/turnkey-solution"><span title="Turnkey Solution" class="categoryLinkLabel_W154">Turnkey Solution</span></a><button aria-label="Expand sidebar category &#x27;Turnkey Solution&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/releases"><span title="Releases" class="categoryLinkLabel_W154">Releases</span></a><button aria-label="Expand sidebar category &#x27;Releases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/faq/"><span title="FAQ" class="linkLabel_WmDU">FAQ</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/glossary"><span title="Glossary" class="linkLabel_WmDU">Glossary</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/category/iaas-layer"><span>IaaS Layer</span></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Guides</span></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/iaas/guides/configuration-guide/"><span>Configuration Guide</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Configuration repository</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Configuration Repository</h1></header>
<p>The configuration required for an OSISM managed cluster is stored in a single Git
monorepo, the configuration repository.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="creating-a-new-configuration-repository">Creating a new configuration repository<a href="#creating-a-new-configuration-repository" class="hash-link" aria-label="Direct link to Creating a new configuration repository" title="Direct link to Creating a new configuration repository" translate="no">​</a></h2>
<p>The initial content for this configuration repository is generated using the
<a href="https://github.com/osism/cfg-cookiecutter" target="_blank" rel="noopener noreferrer" class="">Cookiecutter</a>.</p>
<p>Cookiecutter generates a simple initial configuration for your new cluster by prompting
you for the basic details of the new cluster.</p>
<p>The configuration repository is not created on the future Manager node. It is created on a
local workstation. If the local workstation cannot be used for this purpose, a dedicated
virtual system can be used. For more information on this topic, refer to the
<a class="" href="/docs/iaas/guides/deploy-guide/seed">Seed Deploy Guide</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-1-preparation">Step 1: Preparation<a href="#step-1-preparation" class="hash-link" aria-label="Direct link to Step 1: Preparation" title="Direct link to Step 1: Preparation" translate="no">​</a></h3>
<p>First decide where to store your Git repository The content generated by the cookiecutter in
the <code>output/configuration</code> directory is committed to a new Git repository. By default, the
configuration repository is assumed to be on GitHub. This can also be GitLab or an internal
Git service as well.</p>
<p>Host and path to the Git repository are specified by the <code>git_</code> parameters. These are
requested in step 2. The <code>git_</code> parameters do not specify the path to the cookiecutter
to use.</p>
<div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  [8/20] git_host (github.com):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  [9/20] git_port (22):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  [10/20] git_repository (YOUR_ORG/YOUR_NEW_CONFIGURATION_REPOSITORY): regiocloud/configuration</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  [11/20] git_username (git):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  [12/20] git_version (main):</span><br></span></code></pre></div></div>
<p>In this case, the generated configuration in the <code>output/configuration</code> directory is
stored on GitHub in the <code>regiocloud/configuration</code> repository.</p>
<p>See the <a href="#parameter-reference" class="">parameter reference</a> for more details. The parameters
listed there will be queried during the execution of Cookiecutter.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-2-run-cookiecutter">Step 2: Run Cookiecutter<a href="#step-2-run-cookiecutter" class="hash-link" aria-label="Direct link to Step 2: Run Cookiecutter" title="Direct link to Step 2: Run Cookiecutter" translate="no">​</a></h3>
<ol>
<li class="">
<p>The directory <code>output</code> is created and used as output volume. It is only necessary to create the empty
directory here.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mkdir output</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>The Cookiecutter runs inside a container. <a href="https://docs.docker.com/engine/install/" target="_blank" rel="noopener noreferrer" class="">Docker must be usable on the system</a>
where the Cookiecutter will be used. It should also work with Podman.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker run \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e TARGET_UID=&quot;$(id -u)&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -e TARGET_GID=&quot;$(id -g)&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -v $(pwd)/output:/output \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --rm -it quay.io/osism/cookiecutter</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>A few parameters are requested. The parameters are documented in detail in the <a href="#parameter-reference" class="">parameter reference</a>.</p>
<p>If you want to use the <code>latest</code> version, this is done using the <code>manager_version</code> parameter. By default,
this is always set to the latest stable version.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">manager_version </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">7.0.4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> latest</span><br></span></code></pre></div></div>
<p>If the <code>manager_version</code> parameter is set to <code>latest</code> it is also possible to explicitly
set the <code>openstack_version</code> and the <code>ceph_version</code> explicitly.</p>
<div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">[1/18] with_ceph (1):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[2/18] ceph_network(192.168.16.0/20):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[3/18] ceph_version (quincy):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[4/18] domain (osism.xyz):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[5/18] fqdn_external (api.osism.xyz):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[6/18] fqdn_internal (api-int.osism.xyz):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[7/18] git_host (github.com):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[8/18] git_port (22):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[9/18] git_repository (YOUR_ORG/YOUR_NEW_CONFIGURATION_REPOSITORY):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[10/18] git_username (git):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[11/18] git_version (main):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[12/18] ip_external (192.168.16.254):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[13/18] ip_internal (192.168.16.9):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[14/18] manager_version (7.0.4):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[15/18] name_server (149.112.112.112):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[16/18] ntp_server (de.pool.ntp.org):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[17/18] openstack_version (2023.2):</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[18/18] project_name (configuration):</span><br></span></code></pre></div></div>
</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-3-upload-the-new-configuration-to-the-remote-git-repository">Step 3: Upload the new configuration to the remote git repository<a href="#step-3-upload-the-new-configuration-to-the-remote-git-repository" class="hash-link" aria-label="Direct link to Step 3: Upload the new configuration to the remote git repository" title="Direct link to Step 3: Upload the new configuration to the remote git repository" translate="no">​</a></h3>
<p>Add the initial configuration state to the repository. How to add a deploy key on GitHub is documented in
<a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/managing-deploy-keys" target="_blank" rel="noopener noreferrer" class="">Managing deploy keys</a>.
Read permissions are sufficient.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">git clone git@github.com:YOUR_ORG/YOUR_NEW_CONFIGURATION_REPOSITORY.git YOUR_NEW_CONFIGURATION_REPOSITORY</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cp -r output/configuration/{*,.gitignore} YOUR_NEW_CONFIGURATION_REPOSITORY</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cd YOUR_NEW_CONFIGURATION_REPOSITORY</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">git add -A .</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">git commit -m &quot;Initial commit after bootstrap&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">git push</span><br></span></code></pre></div></div>
<p>The content is now committed to the Git repository that was created earlier in the process.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>The <code>secrets</code> directory is not stored in the Git repository. Its contents can be
stored in a trusted location.</p><p>The <code>secrets</code> directory contains an SSH key pair which is used as the deploy key to
make the configuration repository available on the manager node later. Write access
is not required. The public SSH key is stored in the <code>secrets/id_rsa.configuration.pub</code> file.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-4-post-processing-of-the-generated-configuration">Step 4: Post-processing of the generated configuration<a href="#step-4-post-processing-of-the-generated-configuration" class="hash-link" aria-label="Direct link to Step 4: Post-processing of the generated configuration" title="Direct link to Step 4: Post-processing of the generated configuration" translate="no">​</a></h3>
<p>The configuration repository that is initially created with the Cookiecutter is not immediately usable.
For example, the inventory needs to be built. All other information can be found in the
<a class="" href="/docs/iaas/guides/configuration-guide/">Configuration Guide</a>. Use <code>git</code> to version all your configuration changes.</p>
<p>The following 6 points must be changed after the initial creation of the configuration repository.</p>
<ol>
<li class=""><a href="#secrets" class="">Secrets</a></li>
<li class=""><a href="#manager-inventory" class="">Manager inventory</a></li>
<li class=""><a href="#global-inventory" class="">Global inventory</a></li>
<li class=""><a href="#dns-servers" class="">DNS servers</a></li>
<li class=""><a href="#ntp-servers" class="">NTP servers</a></li>
<li class=""><a href="#certificates" class="">Certificates</a></li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="secrets">Secrets<a href="#secrets" class="hash-link" aria-label="Direct link to Secrets" title="Direct link to Secrets" translate="no">​</a></h4>
<p>The password for Ansible Vault encrypted files, is stored in <code>secrets/vaultpass</code>. Since the <code>secrets</code> directory
is not added to the configuration repository, it is important to store it in a password vault of your choice.</p>
<p>The password of the generated Keepass file is <code>password</code>. This should be changed when using the Keepass file.
If possible, an existing password vault should be used.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="manager-inventory">Manager inventory<a href="#manager-inventory" class="hash-link" aria-label="Direct link to Manager inventory" title="Direct link to Manager inventory" translate="no">​</a></h4>
<p>The information required to perform the initial bootstrap of the manager node and the initial
deployment of the manager service from the seed Node is provided in the inventory of the manager
environment.</p>
<p>In the Cookiecutter, a node <code>node01</code> is defined as an example in the manager inventory as well as
in the global inventory. The name of this node must be changed to match the name of the node used
as manager in your own cluster.</p>
<p><strong>Roles</strong></p>
<ul>
<li class="">
<p>Manager role</p>
<p>The name of the node on which the manager service is to be deployed is
added to inventory group <code>manager</code> in file <code>environments/manager/hosts</code>.</p>
<p>Only the <code>manager</code> inventory group is available in <code>environments/manager/hosts</code>. There are no
other groups there.</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">environments/manager/hosts</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">[manager]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">node01</span><br></span></code></pre></div></div>
</li>
</ul>
<p><strong>Host vars</strong></p>
<ul>
<li class="">
<p>Ansible section</p>
<p>The IP address where the node can be reached via SSH from the manager node. If DHCP is used after the
initial provisioning to assign an initial IP address to the nodes, the address assigned via DHCP is
initially used here and later changed to the static IP address.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">environments/manager/host_vars/node01.yml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">ansible_host</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 192.168.16.10</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Generic section</p>
<p>The network interface on which the internal communication of the cluster will take place. If the
internal interface does not yet exist at the time the configuration is created, e.g. because it is a
bond interface or VLAN interface that is only created by the static network configuration, it can be
already used here.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">environments/manager/host_vars/node01.yml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">internal_interface</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> eno1</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Network section</p>
<p>The static and complete network configuration of the node. Further details on creating the
network configuration in the <a class="" href="/docs/iaas/guides/configuration-guide/network">network configuration guide</a>.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">environments/manager/host_vars/node01.yml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">network_ethernets</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">eno1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">addresses</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;192.168.16.10/20&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">gateway4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;192.168.16.1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">mtu</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">1500</span><br></span></code></pre></div></div>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="global-inventory">Global inventory<a href="#global-inventory" class="hash-link" aria-label="Direct link to Global inventory" title="Direct link to Global inventory" translate="no">​</a></h4>
<p>In the Cookiecutter, a node <code>node01</code> is defined as an example in the manager inventory as well as
in the global inventory. The name of this node must be changed to match the name of the node used
as manager in your own cluster.</p>
<p><strong>Roles</strong></p>
<ul>
<li class="">
<p>Generic role</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">inventory/20-roles</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The &quot;all&quot; group is not used in OSISM. Therefore it is important</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># that all nodes are explicitly listed here.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[generic]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">node01</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Manager role</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">inventory/20-roles</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Nodes that act as manager (sometimes called deployment node)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># are included in this group.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[manager]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">node01</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Monitoring role</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">inventory/20-roles</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Nodes which are intended for monitoring services belong to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># this group</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[monitoring]</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Control role</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">inventory/20-roles</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Nodes that serve as controllers, so things like scheduler,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># API or database run there, of the environment.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[control]</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Compute role</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">inventory/20-roles</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Virtual systems managed by OpenStack Nova are placed on</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># nodes in this group.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[compute]</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Network role</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">inventory/20-roles</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Network resources managed by OpenStack Neutron, such as</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># L3 routers, are placed on these nodes. This group has nothing</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># to do with the general network configuration.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[network]</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Ceph control role</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">inventory/20-roles</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Nodes that serve as controllers for Ceph, so things like the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Ceph Monitor service run here.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[ceph-control]</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Ceph resource role</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">inventory/20-roles</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># The storage available in these systems is provided in the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># form of OSDs for Ceph.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[ceph-resource]</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Ceph rgw role</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">inventory/20-roles</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">[ceph-rgw:children]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ceph-control</span><br></span></code></pre></div></div>
</li>
</ul>
<p><strong>Host vars</strong></p>
<ul>
<li class="">
<p>Ansible section</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">inventory/host_vars/node01.yml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># NOTE: Address where the node can be reached via SSH.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">ansible_host</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 192.168.16.10</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Generic section</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">inventory/host_vars/node01.yml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">internal_interface</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> eno1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># NOTE: The address of the internal interface.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">internal_address</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 192.168.16.10</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Netdata section</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">inventory/host_vars/node01.yml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">netdata_host_type</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> client</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># NOTE: Uncomment this when this node should be a Netdata server.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># netdata_host_type: server</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Network section</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">inventory/host_vars/node01.yml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># NOTE: This is the initial management interface. Further interfaces can be added.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># DOCS: https://osism.tech/docs/guides/configuration-guide/network</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">network_ethernets</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">eno1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">addresses</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;192.168.16.10/20&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">gateway4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;192.168.16.1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">mtu</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">1500</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Kolla section</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">inventory/host_vars/node01.yml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">network_interface</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> eno1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># api_interface:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># bifrost_network_interface:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># dns_interface:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># kolla_external_vip_interface:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># migration_interface:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># neutron_external_interface:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># octavia_network_interface:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># storage_interface:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># tunnel_interface:</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Ceph section</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">inventory/host_vars/node01.yml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># NOTE: Uncomment this when this node is a part of the Ceph cluster.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># monitor_address:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># radosgw_address:</span><br></span></code></pre></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">inventory/host_vars/node01.yml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># NOTE: Uncomment this when this node should be a OSD node.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># DOCS: https://osism.tech/docs/guides/configuration-guide/ceph#lvm-devices</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># ceph_osd_devices:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#   sdb:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#   sdc:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#   sdd:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#   sde:</span><br></span></code></pre></div></div>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="dns-servers">DNS servers<a href="#dns-servers" class="hash-link" aria-label="Direct link to DNS servers" title="Direct link to DNS servers" translate="no">​</a></h4>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">environments/configuration.yml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">resolvconf_nameserver</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> 8.8.8.8</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> 9.9.9.9</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ntp-servers">NTP servers<a href="#ntp-servers" class="hash-link" aria-label="Direct link to NTP servers" title="Direct link to NTP servers" translate="no">​</a></h4>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">environments/configuration.yml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">chrony_servers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> 1.de.pool.ntp.org</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> 2.de.pool.ntp.org</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> 3.de.pool.ntp.org</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> 4.de.pool.ntp.org</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="certificates">Certificates<a href="#certificates" class="hash-link" aria-label="Direct link to Certificates" title="Direct link to Certificates" translate="no">​</a></h4>
<p>The certificates must be created and added in the configuration repository in the files
<code>environments/kolla/certificates/haproxy.pem</code> and <code>environments/kolla/certificates/haproxy-internal.pem</code>. Further information in the <a class="" href="/docs/iaas/guides/configuration-guide/loadbalancer">Loadbalancer Configuration Guide</a>.</p>
<p>If no certificates are to be used, the encryption must be deactivated. This is not
recommended.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">environments/kolla/configuration.yml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">kolla_enable_tls_external</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;yes&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">kolla_enable_tls_internal</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;yes&quot;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="using-latest">Using latest<a href="#using-latest" class="hash-link" aria-label="Direct link to Using latest" title="Direct link to Using latest" translate="no">​</a></h2>
<p>If you want to use the latest version, this is done using the <code>manager_version</code> parameter. By default,
this is always set to the latest stable version.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">manager_version </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">7.0.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> latest</span><br></span></code></pre></div></div>
<p>If the <code>manager_version</code> parameter is set to <code>latest</code> it is also possible to explicitly
set the <code>openstack_version</code> and the <code>ceph_version</code> explicitly.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="parameter-reference">Parameter reference<a href="#parameter-reference" class="hash-link" aria-label="Direct link to Parameter reference" title="Direct link to Parameter reference" translate="no">​</a></h2>
<table><thead><tr><th style="text-align:left">Parameter</th><th style="text-align:left">Description</th><th style="text-align:left">Default</th></tr></thead><tbody><tr><td style="text-align:left"><code>ceph_network</code></td><td style="text-align:left">Address range for Ceph&#x27;s network</td><td style="text-align:left"><code>192.168.16.0/20</code></td></tr><tr><td style="text-align:left"><code>ceph_version</code></td><td style="text-align:left">The version of Ceph. When using a stable OSISM release (<code>manager_version != latest</code>), this value is ignored</td><td style="text-align:left"><code>quincy</code></td></tr><tr><td style="text-align:left"><code>domain</code></td><td style="text-align:left">The domain used by hostnames</td><td style="text-align:left"><code>osism.xyz</code></td></tr><tr><td style="text-align:left"><code>fqdn_external</code></td><td style="text-align:left">External API FQDN</td><td style="text-align:left"><code>api.osism.xyz</code></td></tr><tr><td style="text-align:left"><code>fqdn_internal</code></td><td style="text-align:left">Internal API FQDN</td><td style="text-align:left"><code>api-int.osism.xyz</code></td></tr><tr><td style="text-align:left"><code>git_host</code></td><td style="text-align:left">Address of the used Git server</td><td style="text-align:left"><code>github.com</code></td></tr><tr><td style="text-align:left"><code>git_port</code></td><td style="text-align:left">Port of the used Git server</td><td style="text-align:left"><code>22</code></td></tr><tr><td style="text-align:left"><code>git_repository</code></td><td style="text-align:left">Path to the git configuration repository</td><td style="text-align:left"><code>YOUR_ORG/YOUR_CONFIGURATION_REPOSITORY</code></td></tr><tr><td style="text-align:left"><code>git_username</code></td><td style="text-align:left">Username of the git repository</td><td style="text-align:left"><code>git</code></td></tr><tr><td style="text-align:left"><code>git_version</code></td><td style="text-align:left">Git branch name</td><td style="text-align:left"><code>main</code></td></tr><tr><td style="text-align:left"><code>ip_external</code></td><td style="text-align:left">The external IP address of the API (resolves to <code>fqdn_external</code>)</td><td style="text-align:left"><code>192.168.16.254</code></td></tr><tr><td style="text-align:left"><code>ip_internal</code></td><td style="text-align:left">The internal IP address of the API (resolves to <code>fqdn_internal</code>)</td><td style="text-align:left"><code>192.168.16.9</code></td></tr><tr><td style="text-align:left"><code>manager_version</code></td><td style="text-align:left">The version of OSISM. An overview of available OSISM releases can be found on the <a href="https://osism.tech/docs/release-notes/" target="_blank" rel="noopener noreferrer" class="">release page</a></td><td style="text-align:left"><code>7.0.4</code></td></tr><tr><td style="text-align:left"><code>name_server</code></td><td style="text-align:left">Nameserver. Only one nameserver is set here because the query of multiple values in Cookiecutter is weird. Add more nameservers afterward.</td><td style="text-align:left"><code>149.112.112.112</code></td></tr><tr><td style="text-align:left"><code>ntp_server</code></td><td style="text-align:left">NTP server. Only one NTP server is set here because the query of multiple values in Cookiecutter is weird. Add more NTP servers afterward.</td><td style="text-align:left"><code>de.pool.ntp.org</code></td></tr><tr><td style="text-align:left"><code>openstack_version</code></td><td style="text-align:left">The version of OpenStack. When using a stable OSISM release (<code>manager_version != latest</code>), this value is ignored</td><td style="text-align:left"><code>2023.2</code></td></tr><tr><td style="text-align:left"><code>project_name</code></td><td style="text-align:left">Name of the configuration repository directory</td><td style="text-align:left"><code>configuration</code></td></tr><tr><td style="text-align:left"><code>with_ceph</code></td><td style="text-align:left"><code>1</code> to use Ceph, <code>0</code> to not use Ceph</td><td style="text-align:left"><code>1</code></td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="configuration-repository-layout">Configuration repository layout<a href="#configuration-repository-layout" class="hash-link" aria-label="Direct link to Configuration repository layout" title="Direct link to Configuration repository layout" translate="no">​</a></h2>
<p>A configuration repository always has the same layout. This section describes
the content available in a configuration repository. In the section
<a href="#creating-a-new-configuration-repository" class="">Creating a new configuration repository</a> is the creation
of a new configuration repository documented.</p>
<table><thead><tr><th style="text-align:left">Directory/File</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>environments</code></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><code>inventory</code></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><code>netbox</code></td><td style="text-align:left">optional</td></tr><tr><td style="text-align:left"><code>requirements.txt</code></td><td style="text-align:left">In the <code>requirements.txt</code> the necessary dependencies are listed to be able to execute Gilt.</td></tr><tr><td style="text-align:left"><code>gilt.yml</code></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><code>Makefile</code></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><code>gilt.yaml</code></td><td style="text-align:left"><a href="https://gilt.readthedocs.io" target="_blank" rel="noopener noreferrer" class="">Gilt</a> is a Git layering tool. We use Gilt to maintain the image versions, Ansible configuration and scripts within the <code>environments/manager</code> directory.</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="synchronizing-the-configuration-repository">Synchronizing the configuration repository<a href="#synchronizing-the-configuration-repository" class="hash-link" aria-label="Direct link to Synchronizing the configuration repository" title="Direct link to Synchronizing the configuration repository" translate="no">​</a></h2>
<p>Once the manager has been deployed and the configuration repository has been initially
transferred to the manager node, the configuration repository can be updated using
<code>osism apply configuration</code>.</p>
<p>If local changes were made directly in the configuration repository on the manager node,
these are overwritten.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="locks">Locks<a href="#locks" class="hash-link" aria-label="Direct link to Locks" title="Direct link to Locks" translate="no">​</a></h2>
<p>It is possible to lock parts of the configuration repository or the complete configuration
repository. It is then no longer possible to execute plays assigned to these parts in the
locked parts. This makes it possible to prevent the execution of plays in specific areas.</p>
<p>To lock an environment, a .lock file is created in the corresponding directory of the environment.
For example, the file <code>environments/kolla/.lock</code> locks the Kolla environment.</p>
<p>If you try to execute a play in the Kolla environment, an error message is displayed.</p>
<div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ osism apply common</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">2024-06-02 10:52:44 | INFO     | Task 2f25f55f-96ae-4a6c-aeb4-c1c01e716d91 (common) was prepared for execution.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">2024-06-02 10:52:44 | INFO     | It takes a moment until task 2f25f55f-96ae-4a6c-aeb4-c1c01e716d91 (common) has been started and output is visible here.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ERROR: The environment kolla is locked via the configuration repository.</span><br></span></code></pre></div></div>
<p>File <code>environments/.lock</code> is created to lock everything.</p>
<p>If you try to execute a play, an error message is displayed.</p>
<div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ osism apply facts</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">2024-06-02 10:53:08 | INFO     | Task 6ac9a526-f88d-4756-bf46-2179636dfb42 (facts) was prepared for execution.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">2024-06-02 10:53:08 | INFO     | It takes a moment until task 6ac9a526-f88d-4756-bf46-2179636dfb42 (facts) has been started and output is visible here.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ERROR: The configuration repository is locked.</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="working-with-encrypted-files">Working with encrypted files<a href="#working-with-encrypted-files" class="hash-link" aria-label="Direct link to Working with encrypted files" title="Direct link to Working with encrypted files" translate="no">​</a></h2>
<p>To make it easier to work with encrypted files, the configuration repository has several make
targets that can be used to view encrypted files and to edit encrypted files.</p>
<ul>
<li class="">
<p>Show secrets in all encrypted files.</p>
<p>This opens a pager, e.g. less, and you can search with <code>/</code> for specific files, keys and passwords.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">make ansible_vault_show FILE=all</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">make ansible_vault_show FILE=environments/secrets.yml</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Change or add secrets in an encrypted file with the editor set in <code>$EDITOR</code>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">make ansible_vault_edit FILE=environments/secrets.yml EDITOR=nano</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Re-encrypt all encrypted files with a new key.</p>
<p>This creates a new <code>secrets/vaultpass</code> and creates backups of the old to
<code>secrets/vaultpass_backup_&lt;timestamp&gt;</code>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">make ansible_vault_rekey</span><br></span></code></pre></div></div>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/SovereignCloudStack/docs/tree/main/docs/02-iaas/guides/configuration-guide/configuration-repository.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/iaas/guides/configuration-guide/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Configuration Guide</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/iaas/guides/configuration-guide/inventory"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Inventory</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#creating-a-new-configuration-repository" class="table-of-contents__link toc-highlight">Creating a new configuration repository</a><ul><li><a href="#step-1-preparation" class="table-of-contents__link toc-highlight">Step 1: Preparation</a></li><li><a href="#step-2-run-cookiecutter" class="table-of-contents__link toc-highlight">Step 2: Run Cookiecutter</a></li><li><a href="#step-3-upload-the-new-configuration-to-the-remote-git-repository" class="table-of-contents__link toc-highlight">Step 3: Upload the new configuration to the remote git repository</a></li><li><a href="#step-4-post-processing-of-the-generated-configuration" class="table-of-contents__link toc-highlight">Step 4: Post-processing of the generated configuration</a></li></ul></li><li><a href="#using-latest" class="table-of-contents__link toc-highlight">Using latest</a></li><li><a href="#parameter-reference" class="table-of-contents__link toc-highlight">Parameter reference</a></li><li><a href="#configuration-repository-layout" class="table-of-contents__link toc-highlight">Configuration repository layout</a></li><li><a href="#synchronizing-the-configuration-repository" class="table-of-contents__link toc-highlight">Synchronizing the configuration repository</a></li><li><a href="#locks" class="table-of-contents__link toc-highlight">Locks</a></li><li><a href="#working-with-encrypted-files" class="table-of-contents__link toc-highlight">Working with encrypted files</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Contribute</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://matrix.to/#/!TiDqlLmEUaXqTemaLc:matrix.org?via=matrix.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Matrix<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://fosstodon.org/@sovereigncloudstack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mastodon<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/SovereignCloudStack/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Sovereign Cloud Stack, SCS and the logo are registered trademarks of the Open Source Business Alliance e.V. — Other trademarks are property of their respective owners.</div></div></div></footer></div>
</body>
</html>