"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9701],{14069:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>f,frontMatter:()=>i,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"scs-0122-v1-node-to-node-encryption","title":"End-to-End Encryption between Customer Workloads","description":"Abstract","source":"@site/standards/scs-0122-v1-node-to-node-encryption.md","sourceDirName":".","slug":"/scs-0122-v1-node-to-node-encryption","permalink":"/standards/scs-0122-v1-node-to-node-encryption","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"End-to-End Encryption between Customer Workloads","type":"Decision Record","status":"Draft","track":"IaaS"},"sidebar":"standards","previous":{"title":"scs-0122: End-to-End Encryption between Customer Workloads","permalink":"/standards/iaas/scs-0122"},"next":{"title":"scs-0123: Mandatory and Supported IaaS Services","permalink":"/standards/iaas/scs-0123"}}');var r=t(74848),o=t(28453);const i={title:"End-to-End Encryption between Customer Workloads",type:"Decision Record",status:"Draft",track:"IaaS"},s=void 0,c={},l=[{value:"Abstract",id:"abstract",level:2},{value:"Terminology",id:"terminology",level:2},{value:"Context",id:"context",level:2},{value:"Motivation",id:"motivation",level:3},{value:"Potential threats in detail",id:"potential-threats-in-detail",level:3},{value:"Man in the Middle Attack",id:"man-in-the-middle-attack",level:4},{value:"Passive Attacks - Eavesdropping",id:"passive-attacks---eavesdropping",level:5},{value:"Active - Spoofing / Tampering",id:"active---spoofing--tampering",level:5},{value:"Preliminary considerations",id:"preliminary-considerations",level:3},{value:"Utilize existing solutions",id:"utilize-existing-solutions",level:4},{value:"Upstream integration",id:"upstream-integration",level:4},{value:"Address threat modeling issues",id:"address-threat-modeling-issues",level:4},{value:"Performance impact and ease of use",id:"performance-impact-and-ease-of-use",level:4},{value:"Avoid redundant encryption",id:"avoid-redundant-encryption",level:4},{value:"Exploration of technologies",id:"exploration-of-technologies",level:3},{value:"Networking in OpenStack",id:"networking-in-openstack",level:4},{value:"Encryption options",id:"encryption-options",level:4},{value:"MACsec",id:"macsec",level:5},{value:"eBPF-based encryption with Linux Kernel Crypto API",id:"ebpf-based-encryption-with-linux-kernel-crypto-api",level:5},{value:"IPsec",id:"ipsec",level:5},{value:"WireGuard",id:"wireguard",level:5},{value:"Solution proposals",id:"solution-proposals",level:3},{value:"TripleO with IPsec",id:"tripleo-with-ipsec",level:4},{value:"OVN + IPsec",id:"ovn--ipsec",level:4},{value:"Neutron + Cilium",id:"neutron--cilium",level:4},{value:"Neutron + Calico",id:"neutron--calico",level:4},{value:"Proof of concept implementations",id:"proof-of-concept-implementations",level:3},{value:"Neutron Plugin",id:"neutron-plugin",level:4},{value:"Manual setup",id:"manual-setup",level:4},{value:"Proof of concept (PoC) implementation",id:"proof-of-concept-poc-implementation",level:4},{value:"Architecture",id:"architecture",level:5},{value:"Challanges",id:"challanges",level:5},{value:"Additional infrastructure",id:"additional-infrastructure",level:5},{value:"Possible improvements",id:"possible-improvements",level:5},{value:"Decision",id:"decision",level:2},{value:"Utilize existing solutions",id:"utilize-existing-solutions-1",level:3},{value:"Address threat modeling issues",id:"address-threat-modeling-issues-1",level:3},{value:"Avoid redundant encryption",id:"avoid-redundant-encryption-1",level:3},{value:"Performance impact and ease of use",id:"performance-impact-and-ease-of-use-1",level:3},{value:"Upstream integration",id:"upstream-integration-1",level:3},{value:"References",id:"references",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",em:"em",h2:"h2",h3:"h3",h4:"h4",h5:"h5",img:"img",li:"li",ol:"ol",p:"p",section:"section",strong:"strong",sup:"sup",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"abstract",children:"Abstract"}),"\n",(0,r.jsx)(n.p,{children:"This document explores options for developing end-to-end (E2E) encryption for\nVMs, Magnum workloads, and container layers to enhance security between user\nservices. It includes a detailed review of various technologies, feedback from\nthe OpenStack community, and the decision-making process that led to selecting\nVXLANs with the OpenStack ML2 plugin and it's later abandonment in favour of\nnatural openvswitch-ipsec solution."}),"\n",(0,r.jsx)(n.h2,{id:"terminology",children:"Terminology"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Term"}),(0,r.jsx)(n.th,{children:"Meaning"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CSP"}),(0,r.jsx)(n.td,{children:"Cloud service provider, in this document it includes also an operator of a private cloud"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"VM"}),(0,r.jsx)(n.td,{children:"Virtual machine, alternatively instance, is a virtualized compute resource that functions as a self-contained server for a customer"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Node"}),(0,r.jsx)(n.td,{children:"Machine under CSP administration which hosts cloud services and compute instances"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"context",children:"Context"}),"\n",(0,r.jsx)(n.h3,{id:"motivation",children:"Motivation"}),"\n",(0,r.jsx)(n.p,{children:"The security of customer/user workloads is one of CSPs main concerns. With\nlarger and more diverse cloud instances, parts of the underlying physical\ninfrastructure can be outside of CSPs direct control, either when\ninterconnecting datacenters via public internet or in the case of renting\ninfrastructure from third party. Many security breaches occur due to\nactions of malicious or negligent inhouse operators. While some burden lies\nwith customers, which should secure their own workloads, CSP should have the\noption to transparently protect the data pathways between instances, more so\nfor private clouds, where CSP and customer are the same entity or parts of the\nsame entity."}),"\n",(0,r.jsxs)(n.p,{children:["In RFC8926",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-rfc",id:"user-content-fnref-rfc","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"1"})})," it is stated:"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"A tenant system in a customer premises (private data center) may want to\nconnect to tenant systems on their tenant overlay network in a public cloud\ndata center, or a tenant may want to have its tenant systems located in\nmultiple geographically separated data centers for high availability. Geneve\ndata traffic between tenant systems across such separated networks should be\nprotected from threats when traversing public networks. Any Geneve overlay\ndata leaving the data center network beyond the operator's security domain\nSHOULD be secured by encryption mechanisms, such as IPsec or other VPN\ntechnologies, to protect the communications between the NVEs when they are\ngeographically separated over untrusted network links."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"We aren't considering the communication intra node, meaning inside one host\nnode between different VMs potentially of multiple tenants as this is a\nquestion of tenant isolation, not of networking security, and encryption here\nwould be possibly a redundant measure. Isolation of VMs is handled by OpenStack\non multiple levels - overlay tunneling protocols, routing rules on networking\nlevel, network namespaces on kernel level and hypervisor isolation mechanisms.\nAll the communication here is existing inside node and any malicious agent with\nhigh enough access to the node itself to observe/tamper with the internal\ncommunication traffic would pressumably have access to the encryption keys\nthemselves, rendering the encryption ineffective."}),"\n",(0,r.jsx)(n.h3,{id:"potential-threats-in-detail",children:"Potential threats in detail"}),"\n",(0,r.jsx)(n.p,{children:"We are assuming that:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"the customer workloads are not executed within secure enclaves (e.g. Security\nGuard Extensions (SGX)) and aren't using security measures like end-to-end\nencryption themselves, either relying with security on the CSP or in the case\nof a private cloud are run by the operator of the cloud"}),"\n",(0,r.jsx)(n.li,{children:"the CSP OpenStack administrators are deemed trustworthy since they possess\nroot access to the host nodes, with access to keys and certificates, enabling\nthem to bypass any form of internode communication encryption"}),"\n",(0,r.jsx)(n.li,{children:"a third party or an independent team manages physical network communication\nbetween nodes within a colocation setting or the communication passes unsafe\npublic infrastructure in the case of a single stretched instance spanning\nmultiple data centers"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"man-in-the-middle-attack",children:"Man in the Middle Attack"}),"\n",(0,r.jsx)(n.p,{children:"Considering the assumptions and the objective to enforce end-to-end (E2E)\nencryption for user workloads, our primary security concern is averting\nman-in-the-middle (MITM) attacks. These can be categorized into two distinct\nforms: active and passive."}),"\n",(0,r.jsx)(n.h5,{id:"passive-attacks---eavesdropping",children:"Passive Attacks - Eavesdropping"}),"\n",(0,r.jsx)(n.p,{children:"Consider the scenario where an untrusted individual, such as a third party\nnetwork administrator, with physical access to the data center engages in\n'passive' covert surveillance, silently monitoring unencrypted traffic\nwithout interfering with data integrity or network operations."}),"\n",(0,r.jsx)(n.p,{children:"Wiretapping is a common technique employed in such espionage. It involves the\nunauthorized attachment to network cabling, enabling the covert observation of\ndata transit. This activity typically goes unnoticed as it does not disrupt\nthe flow of network traffic, although it may occasionally introduce minor\ntransmission errors."}),"\n",(0,r.jsx)(n.p,{children:"An alternative strategy involves deploying an interception device that\ncaptures and retransmits data, which could potentially introduce network\nlatency or, if deployed disruptively, cause connectivity interruptions. Such\ndevices can be concealed by synchronizing their installation with network\ndowntime, maintenance periods, or less conspicuous times like power outages.\nThey could also be strategically placed in less secure, more accessible\nlocations, such as inter-building network links. This applies to wiretapping\nas well."}),"\n",(0,r.jsx)(n.p,{children:"Furthermore, the vulnerability extends to network devices, where an attacker\ncould exploit unsecured management ports or leverage compromised remote\nmanagement tools (like IPMI) to gain unauthorized access. Such access points,\nespecially those not routinely monitored like backup VPNs, present additional\nsecurity risks."}),"\n",(0,r.jsx)(n.p,{children:"Below is a conceptual diagram depicting potential vulnerabilities in an\nOpenStack deployment across dual regions, highlighting how these passive\neavesdropping techniques could be facilitated."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://github.com/SovereignCloudStack/issues/assets/1249759/f5b7edf3-d259-4b2a-8632-c877934f3e31",alt:"image"})}),"\n",(0,r.jsx)(n.h5,{id:"active---spoofing--tampering",children:"Active - Spoofing / Tampering"}),"\n",(0,r.jsx)(n.p,{children:"Active network attacks like spoofing and tampering exploit various access\npoints, often leveraging vulnerabilities uncovered during passive eavesdropping\nphases. These attacks actively manipulate or introduce unauthorized\ncommunications on the network."}),"\n",(0,r.jsx)(n.p,{children:"Spoofing involves an attacker masquerading as another device or user within the\nnetwork. This deception can manifest in several ways:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ARP Spoofing:"})," The attacker sends forged ARP (Address Resolution Protocol)\nmessages onto the network. This can redirect network traffic flow to the\nattacker's machine, intercepting, modifying, or blocking data before it\nreaches its intended destination."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"DNS Spoofing:"})," By responding with falsified DNS replies, an attacker can\nreroute traffic to malicious sites, further compromising or data exfiltration."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"IP Spoofing:"})," The attacker disguises their network identity by falsifying\nIP address information in packets, tricking the network into accepting them\nas legitimate traffic. This can be particularly damaging if encryption is not\nenforced, enabling the attacker to interact with databases, invoke APIs, or\nexecute unauthorized commands while appearing as a trusted entity."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Moreover, when an active interception device is in place, attackers can extend\ntheir capabilities to traffic filtering. They might selectively delete or alter\nlogs and metrics to erase traces of their intrusion or fabricate system\nperformance data, thus obscuring the true nature of their activities."}),"\n",(0,r.jsx)(n.h3,{id:"preliminary-considerations",children:"Preliminary considerations"}),"\n",(0,r.jsxs)(n.p,{children:["Initially we wanted to create a plugin into Neutron",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ne",id:"user-content-fnref-ne","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})})," using eBPF",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-eb",id:"user-content-fnref-eb","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"3"})})," to\nsecure the traffic automatically between VMs. We presented the idea in a\nteam IaaS call",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ia",id:"user-content-fnref-ia","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"4"})}),". After the initial round of feedback specific requirements\nemerged."]}),"\n",(0,r.jsx)(n.h4,{id:"utilize-existing-solutions",children:"Utilize existing solutions"}),"\n",(0,r.jsx)(n.p,{children:"Leverage existing technologies and frameworks as much as possible. This\napproach aims to reduce development time and ensure the solution is built on\nproven, reliable foundations. Potential technologies include:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["OVS",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-sw",id:"user-content-fnref-sw","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"5"})})," + IPSec",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ip",id:"user-content-fnref-ip","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"6"})})]}),": Provides an overlay network and has built-in\nsupport for encryption using IPsec. Leveraging OVS can minimize development\ntime since it is already integrated with OpenStack."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Neutron",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ne",id:"user-content-fnref-ne-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})})," with eBPF",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-eb",id:"user-content-fnref-eb-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"3"})})]}),": Using eBPF",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-eb",id:"user-content-fnref-eb-3","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"3"})})," could provide fine-grained\ncontrol over packet filtering and encryption directly in the kernel."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["TripleO",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-to",id:"user-content-fnref-to","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"7"})})," (with IPsec)"]}),": TripleO",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-to",id:"user-content-fnref-to-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"7"})})," tool set for OpenStack deployment\nsupports IPsec tunnels between nodes."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Neutron",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ne",id:"user-content-fnref-ne-3","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})})," + Cilium",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ci",id:"user-content-fnref-ci","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"8"})})]}),": Cilium is an open source, cloud native\neBPF",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-eb",id:"user-content-fnref-eb-4","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"3"})}),"-based networking solution, including transparent encryption tools."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Tailscale",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ta",id:"user-content-fnref-ta","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"9"})})]})," is a mesh VPN based on WireGuard",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-wg",id:"user-content-fnref-wg","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"10"})})," that simplifies the\nsetup of secure, encrypted networks. This could be a potential alternative\nto managing encrypted connections in OpenStack environments."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"upstream-integration",children:"Upstream integration"}),"\n",(0,r.jsxs)(n.p,{children:["Move as much of the development work upstream into existing OpenStack projects.\nThis will help ensure the solution is maintained by the wider OpenStack\ncommunity, reducing the risk of it becoming unmaintained or unusable in the\nfuture. This means to collaborate with the OpenStack community to contribute\nchanges upstream, particularly in projects like Neutron",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ne",id:"user-content-fnref-ne-4","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})}),", OVN",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ov",id:"user-content-fnref-ov","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"11"})}),",\nkolla",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-kl",id:"user-content-fnref-kl","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"12"})})," and ansible-kolla",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ka",id:"user-content-fnref-ka","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"13"})}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"address-threat-modeling-issues",children:"Address threat modeling issues"}),"\n",(0,r.jsxs)(n.p,{children:['"We should not encrypt something just for the sake of encryption." The solution\nmust address the specific security issues identified in the\n',(0,r.jsx)(n.a,{href:"#potential-threats-in-detail",children:"threat modeling"}),". This ideally includes\nprotecting against both passive (eavesdropping) and active (spoofing,\ntampering) MITM attacks. Encryption mechanisms on all communication channels\nbetween VMs, containers, hosts prevents successfull eavesdropping,\nauthentication and integrity checks prevent spoofing and tampering. For example\nIPsec",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ip",id:"user-content-fnref-ip-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"6"})})," provides mechanisms for both encyption and integrity verification."]}),"\n",(0,r.jsx)(n.h4,{id:"performance-impact-and-ease-of-use",children:"Performance impact and ease of use"}),"\n",(0,r.jsx)(n.p,{children:"Evaluate the performance impact of the encryption solution and ensure it is\nminimal. Performance benchmarking should be conducted to assess the impact of\nthe encryption solution on network throughput and latency. For local trusted\nscenarios opt out should be possible. The solution should also be easy to use\nand manage, both for administrators and ideally fully transparent for\nend-users. This may involve developing user-friendly interfaces and automated\ntools for key management and configuration."}),"\n",(0,r.jsx)(n.h4,{id:"avoid-redundant-encryption",children:"Avoid redundant encryption"}),"\n",(0,r.jsx)(n.p,{children:"If possible, develop a mechanism to detect and avoid encrypting traffic that is\nalready encrypted. This will help optimize performance and resource usage."}),"\n",(0,r.jsx)(n.p,{children:"By focusing on these detailed requirements and considerations, we aim to\ndevelop a robust, efficient, and sustainable E2E encryption solution for\nOpenStack environments. This solution will not only enhance security for user\nworkloads but also ensure long-term maintainability and ease of use."}),"\n",(0,r.jsx)(n.h3,{id:"exploration-of-technologies",children:"Exploration of technologies"}),"\n",(0,r.jsx)(n.p,{children:"Based on the result of the threat modeling and presentation, we explored the\nfollowing technologies and also reached out to the OpenStack mailing list for\nadditional comments."}),"\n",(0,r.jsx)(n.p,{children:"This section provides a brief explanation of OpenStack networking and design\ndecisions for encryption between customer workloads."}),"\n",(0,r.jsx)(n.h4,{id:"networking-in-openstack",children:"Networking in OpenStack"}),"\n",(0,r.jsxs)(n.p,{children:["The foundation of networking in OpenStack is the Neutron",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ne",id:"user-content-fnref-ne-5","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})})," project,\nproviding networking as a service (NaaS). It creates and manages network\nresources such as switches, routers, subnets, firewalls and load balancers,\nuses plugin architecture to support different physical network implementation\noptions and is accessible to admin or other services through API."]}),"\n",(0,r.jsxs)(n.p,{children:["Another integral part is the Open vSwitch (OVS)",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-sw",id:"user-content-fnref-sw-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"5"})})," - a widely adopted virtual\nswitch implementation, which is not strictly necessary, as Neutron is quite\nflexible with compenents used to implement the infrastructure, but tends to\nbe the agent of choice and is the current default agent for Neutron. It allows\nit to respond to environment changes, supporting accounting and monitoring\nprotocols and maintaining OVSDB state database. It manages virtual ports,\nbridges and tunnels on hosts."]}),"\n",(0,r.jsxs)(n.p,{children:["Open Virtual Networking (OVN",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ov",id:"user-content-fnref-ov-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"11"})}),") is a logical abstraction layer on top of OVS,\ndeveloped by the same community that became the default controller driver for\nNeutron. It manages logical networks insulated from underlying physical/virtual\nnetworks by encapsulation. It replaces the need for OVS agents running on each\nhost and supports L2 switching, distributed L3 routing, access control and load\nbalancing."]}),"\n",(0,r.jsx)(n.h4,{id:"encryption-options",children:"Encryption options"}),"\n",(0,r.jsxs)(n.h5,{id:"macsec",children:["MACsec",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ms",id:"user-content-fnref-ms","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"14"})})]}),"\n",(0,r.jsx)(n.p,{children:"A layer 2 security protocol, defined by an IEEE standard 802.1AE. It allows to\nsecure an ethernet link for almost all traffic, including control protocols\nlike DHCP and ARP. It is mostly implemented in hardware, in routers and\nswitches, but software implementations exist, notably a Linux kernel module."}),"\n",(0,r.jsxs)(n.h5,{id:"ebpf-based-encryption-with-linux-kernel-crypto-api",children:["eBPF",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-eb",id:"user-content-fnref-eb-5","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"3"})}),"-based encryption with Linux Kernel Crypto API"]}),"\n",(0,r.jsxs)(n.p,{children:["A network packet specific filtering technology in Linux kernel called\nBerkeley Packet Filter (BPF) uses a specialized virtual machine inside\nkernel to run filters on the networking stack. eBPF is an extension of this\nprinciple to a general purpose stack which can run sandboxed programs in kernel\nwithout changes of kernel code or loading modules. High-performance networking\nobservability and security is a natural use-case with projects like Cilium",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ci",id:"user-content-fnref-ci-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"8"})}),"\nimplementing transparent in-kernel packet encryption with it. Linux kernel\nitself also provides an encryption framework called\nLinux Kernel Crypto API",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-lkc",id:"user-content-fnref-lkc","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"15"})})," which such solutions use."]}),"\n",(0,r.jsxs)(n.h5,{id:"ipsec",children:["IPsec",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ip",id:"user-content-fnref-ip-3","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"6"})})]}),"\n",(0,r.jsxs)(n.p,{children:["Internet Protocol security is a suite of protocols for network security on\nlayer 3, providing authentication and packets encryption used for example in\nVirtual Private Network (VPN) setups. It is an IETF",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ie",id:"user-content-fnref-ie","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"16"})})," specification with\nvarious open source and commercial implementations. For historical\nreasons",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ipwh",id:"user-content-fnref-ipwh","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"17"})})," it defines two main transmission protocols\nAuthentication Header (AH) and Encapsulating Security Payload (ESP) where only\nthe latter provides encryption in addition to authentication and integrity. The\nkey negotiations use the IKE(v1/v2) protocol to establish and maintain\nSecurity Associations (SA)."]}),"\n",(0,r.jsxs)(n.h5,{id:"wireguard",children:["WireGuard",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-wg",id:"user-content-fnref-wg-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"10"})})]}),"\n",(0,r.jsxs)(n.p,{children:["Aims to be a simple and fast open source secure network tunneling solution\nworking on layer 3, utilizing state-of-the-art cryptography while maintaining\nmuch simpler codebase and runtime setup as alternative solutions",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-wgwp",id:"user-content-fnref-wgwp","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"18"})}),". Focus\nis on fast in-kernel encryption. WireGuard",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-wg",id:"user-content-fnref-wg-3","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"10"})})," adds new network interfaces,\nmanagable by standard tooling (ifconfig, route,...) which act as tunneling\ninterfaces. Main mechanism, called ",(0,r.jsx)(n.em,{children:"Cryptokey routing"}),", are tables associating\npublic keys of endpoints with allowed IPs inside given tunnels. These behave as\nrouting tables when sending and access control lists (ACL) when receiving\npackets. All packets are sent over UDP. Built-in roaming is achieved by both\nserver and clients being able to update the peer list by examining from where\ncorrectly authenticated data originates."]}),"\n",(0,r.jsx)(n.h3,{id:"solution-proposals",children:"Solution proposals"}),"\n",(0,r.jsxs)(n.h4,{id:"tripleo-with-ipsec",children:["TripleO",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-to",id:"user-content-fnref-to-3","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"7"})})," with IPsec",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ip",id:"user-content-fnref-ip-4","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"6"})})]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"TripleO is a project aimed at installing, upgrading and operating OpenStack\nclouds using OpenStack's own cloud facilities as the foundation - building on\nNova, Ironic, Neutron and Heat to automate cloud management at datacenter\nscale"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This project is retired as of February 2024, but its approach was considered\nfor adoption."}),"\n",(0,r.jsxs)(n.p,{children:["Its deployment allowed for IPsec",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ip",id:"user-content-fnref-ip-5","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"6"})})," encryption of node communication. When\nutilized, two types of tunnels were created in overcloud: node-to-node tunnels\nfor each two nodes on the same network, for all networks those nodes were on,\nand Virtual IP tunnels. Each node hosting the Virtual IP would open a tunnel\nfor any node in the specific network that can properly authenticate."]}),"\n",(0,r.jsxs)(n.h4,{id:"ovn--ipsec",children:["OVN",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ov",id:"user-content-fnref-ov-3","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"11"})})," + IPsec",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ip",id:"user-content-fnref-ip-6","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"6"})})]}),"\n",(0,r.jsxs)(n.p,{children:["There is support in the OVN",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ov",id:"user-content-fnref-ov-4","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"11"})})," project for IPsec",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ip",id:"user-content-fnref-ip-7","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"6"})})," encryption of tunnel\ntraffic",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-oit",id:"user-content-fnref-oit","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"19"})}),". A daemon running in each chassis automatically manages and\nmonitors IPsec",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ip",id:"user-content-fnref-ip-8","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"6"})})," tunnel states."]}),"\n",(0,r.jsxs)(n.h4,{id:"neutron--cilium",children:["Neutron",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ne",id:"user-content-fnref-ne-6","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})})," + Cilium",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ci",id:"user-content-fnref-ci-3","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"8"})})]}),"\n",(0,r.jsxs)(n.p,{children:["Another potential architecture involves a Neutron",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ne",id:"user-content-fnref-ne-7","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})})," plugin hooking an\neBPF",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-eb",id:"user-content-fnref-eb-6","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"3"})})," proxy on each interface and moving internal traffic via an encrypted\nCilium",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ci",id:"user-content-fnref-ci-4","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"8"})})," mesh. Cilium uses IPsec",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ip",id:"user-content-fnref-ip-9","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"6"})})," or WireGuard[wg] to transparently\nencrypt node-to-node traffic. There were some attempts to integrate Cilium",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ci",id:"user-content-fnref-ci-5","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"8"})}),"\nwith OpenStack ",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-neci1",id:"user-content-fnref-neci1","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"20"})}),", ",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-neci2",id:"user-content-fnref-neci2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"21"})}),", but we didn't find any concrete projects\nwhich would leverage the transparent encryption ability of Cilium",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ci",id:"user-content-fnref-ci-6","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"8"})})," in\nOpenStack environment. This path would pressumably require significant\ndevelopment."]}),"\n",(0,r.jsxs)(n.h4,{id:"neutron--calico",children:["Neutron",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ne",id:"user-content-fnref-ne-8","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})})," + Calico",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ca",id:"user-content-fnref-ca","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"22"})})]}),"\n",(0,r.jsxs)(n.p,{children:["The Calico",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ca",id:"user-content-fnref-ca-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"22"})})," project in its community open source version provides\nnode-to-node encryption using WireGuard",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-wg",id:"user-content-fnref-wg-4","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"10"})}),". Despite being primarily a\nKubernetes networking project, it provides an OpenStack integration",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-caos",id:"user-content-fnref-caos","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"23"})})," via\na Neutron",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ne",id:"user-content-fnref-ne-9","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})})," plugin and deploying the necessary subset of tools like etcd,\nCalico agent Felix, routing daemon BIRD and a DHCP agent."]}),"\n",(0,r.jsx)(n.h3,{id:"proof-of-concept-implementations",children:"Proof of concept implementations"}),"\n",(0,r.jsx)(n.h4,{id:"neutron-plugin",children:"Neutron Plugin"}),"\n",(0,r.jsx)(n.p,{children:"Initially the potential for developing a specialized Neutron plugin was\ninvestigated and a simple skeleton implementation for testing purposes was\ndevised."}),"\n",(0,r.jsxs)(n.p,{children:["Own development was later abandoned in favor of a more sustainable solution\nusing existing technologies as disussed in\n",(0,r.jsx)(n.a,{href:"#preliminary-considerations",children:"preliminary considerations"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"manual-setup",children:"Manual setup"}),"\n",(0,r.jsxs)(n.p,{children:["We created a working Proof of Concept with manually setting up VXLAN tunnels\nbetween nodes. While this solution ensures no impact on OpenStack and is easy\nto set up, it has limitations, such as unencrypted data transmission if the\nconnection breaks. To mitigate this, we proposed using a dedicated subnet\npresent only in the IPsec",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ip",id:"user-content-fnref-ip-10","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"6"})})," tunnels."]}),"\n",(0,r.jsxs)(n.p,{children:["We presented the idea to the kolla-ansible[^ak] project, but it was deemed out\nof scope. Instead, we were directed towards a native Open vSwitch solution\nsupporting IPsec",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ip",id:"user-content-fnref-ip-11","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"6"})}),". This requires creating a new OpenStack service\n(working name: openstack-ipsec) and a role to manage chassis keys and run the\nopenstack-ipsec container on each node."]}),"\n",(0,r.jsx)(n.h4,{id:"proof-of-concept-poc-implementation",children:"Proof of concept (PoC) implementation"}),"\n",(0,r.jsxs)(n.p,{children:["In our second proof of concept, we decided to implement support for\nopenstack-ipsec. The initial step involved creating a new container image\nwithin the kolla",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-kl",id:"user-content-fnref-kl-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"12"})})," project specifically for this purpose."]}),"\n",(0,r.jsx)(n.h5,{id:"architecture",children:"Architecture"}),"\n",(0,r.jsxs)(n.p,{children:["When Neutron",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ne",id:"user-content-fnref-ne-10","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})})," uses OVN",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ov",id:"user-content-fnref-ov-5","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"11"})})," as controller it instructs it to create the\nnecessary virtual networking infrastructure (logical switches, routers, etc.),\nparticullary to create Geneve tunnels between compute nodes. These tunnels are\nused to carry traffic between instances on different compute nodes."]}),"\n",(0,r.jsxs)(n.p,{children:["In PoC setup Libreswan",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ls",id:"user-content-fnref-ls","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"24"})})," suite runs on each compute node and manages the\nIPSec",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ip",id:"user-content-fnref-ip-12","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"6"})})," tunnels. It encrypts the traffic flowing over the Geneve tunnels,\nensuring that data is secure as it traverses the physical network. In setup\nphase it establishes IPSec tunnels between compute nodes by negotiating the\nnecessary security parameters (encryption, authentication, etc.). Once the\ntunnels are established, Libreswan",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ls",id:"user-content-fnref-ls-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"24"})})," monitors and manages them, ensuring\nthat the encryption keys are periodically refreshed and that the tunnels remain\nup. It also dynamically adds and removes tunnels based on changes of network\ntopology."]}),"\n",(0,r.jsxs)(n.p,{children:["A packet originating from a VM on one compute node and destined for a VM on\na different node is processed by OVS and encapsulated into a Geneve tunnel.\nBefore the Geneve-encapsulated packet leaves the compute node, it passes\nthrough the Libreswan process, which applies IPSec encryption. The encrypted\npacket traverses the physical network to the destination compute node. On the\ndestination node, Libreswan",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ls",id:"user-content-fnref-ls-3","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"24"})})," decrypts the packet, and OVN",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ov",id:"user-content-fnref-ov-6","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"11"})})," handles\ndecapsulation and forwards it to the target VM."]}),"\n",(0,r.jsx)(n.h5,{id:"challanges",children:"Challanges"}),"\n",(0,r.jsxs)(n.p,{children:["Implementing the openstack-ipsec image we encountered a significant challenge:\nthe ovs-ctl start-ovs-ipsec command could not run inside the container because\nit requires a running init.d or systemctl to start the IPsec daemon immediately\nafter OVS",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ov",id:"user-content-fnref-ov-7","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"11"})})," deploys the configuration. We attempted to use supervisor to\nmanage the processes within the container. However, this solution forced a\nmanual start of the IPsec daemon before ovs-ctl had the chance to create the\nappropriate configurations."]}),"\n",(0,r.jsx)(n.p,{children:"Another challenge was the requirement for both the IPsec daemon and ovs-ipsec\nto run within a single container. This added complexity to the container\nconfiguration and management, making it harder to ensure both services operated\ncorrectly and efficiently."}),"\n",(0,r.jsx)(n.h5,{id:"additional-infrastructure",children:"Additional infrastructure"}),"\n",(0,r.jsxs)(n.p,{children:["New ansible role for generating chassis keys and distributing them to the\nrespective machines was created. This utility also handles the configuration on\neach machine. Managing and creating production certificates is up to the user,\nwhich is also true for the backend TLS certificates in kolla-ansible",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ka",id:"user-content-fnref-ka-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"13"})}),".\nWhile this management should be handled within the same process, it currently\nposes a risk of downtime when certificates expire, as it requires careful\nmanagement and timely renewal of certificates."]}),"\n",(0,r.jsx)(n.p,{children:"The new container image was designed to include all necessary\ncomponents for openstack-ipsec. Using supervisor to manage the IPsec daemon\nwithin the container involved creating configuration files to ensure all\nservices start correctly. However, integrating supervisor introduced additional\ncomplexity and potential points of failure."}),"\n",(0,r.jsx)(n.h5,{id:"possible-improvements",children:"Possible improvements"}),"\n",(0,r.jsx)(n.p,{children:"PoC doesn't currently address the opt-out possibility for disabling the\nencryption for some specific group of nodes, where operator deems it\ndetrimental because of them being virtual or where security is already handled\nin some other layer of the stack. This could be implemented as a further\ncustomization available to the operator to encrypt only some subset of Geneve\ntunnels, either in blacklist or whitelist manner."}),"\n",(0,r.jsx)(n.p,{children:"Further refinement is needed to ensure ovs-ctl and the IPsec daemon start and\nconfigure correctly within the container environment. Exploring alternative\nprocess management tools or improving the configuration of supervisor could\nhelp achieve a more robust solution."}),"\n",(0,r.jsx)(n.p,{children:"Implementing automated certificate management could mitigate the risks\nassociated with manual certificate renewals. Tools like Certbot or integration\nwith existing Public Key Infrastructure (PKI) solutions might be beneficial."}),"\n",(0,r.jsx)(n.p,{children:"Engaging with the upstream Open vSwitch community to address containerization\nchallenges and improve support for running ovs-ctl within containers could lead\nto more sustainable solution."}),"\n",(0,r.jsx)(n.h2,{id:"decision",children:"Decision"}),"\n",(0,r.jsxs)(n.p,{children:["The final proof of concept implementation demonstrated the feasibility of\nimplementing transparent IPsec",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ip",id:"user-content-fnref-ip-13","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"6"})})," encryption between nodes in an OVN",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ov",id:"user-content-fnref-ov-8","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"11"})}),"\nlogical networking setup in OpenStack.\nTo recapitulate our preliminary considerations:"]}),"\n",(0,r.jsx)(n.h3,{id:"utilize-existing-solutions-1",children:"Utilize existing solutions"}),"\n",(0,r.jsxs)(n.p,{children:["Implementation in kolla-ansible",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ka",id:"user-content-fnref-ka-3","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"13"})})," is unintrusive, provided by a\nself-contained new kolla",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-kl",id:"user-content-fnref-kl-3","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"12"})})," container, which only adds an IPsec",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ip",id:"user-content-fnref-ip-14","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"6"})}),"\ntunneling support module to OVS",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-sw",id:"user-content-fnref-sw-3","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"5"})}),", which is already an integral part of\nOpenStack networking, and a mature open source toolkit - Libreswan",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ls",id:"user-content-fnref-ls-4","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"24"})}),". Also\nOVN",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ov",id:"user-content-fnref-ov-9","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"11"})})," has native support in OpenStack and became the default controller for\nNeutron",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ne",id:"user-content-fnref-ne-11","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"address-threat-modeling-issues-1",children:"Address threat modeling issues"}),"\n",(0,r.jsxs)(n.p,{children:["As disussed in ",(0,r.jsx)(n.a,{href:"#motivation",children:"motivation"})," and ",(0,r.jsx)(n.a,{href:"#potential-threats-in-detail",children:"threat\nmodelling"})," sections our concern lies with the\npotentially vulnerable physical infrastructure between nodes inside or between\ndata centers. In this case ensuring encryption and integrity of packets before\nleaving any node addresses these threats, while avoiding the complexity of\nsecuring the communication on the VM level, where frequent additions, deletions\nand migrations could render such system complicated and error prone. We also\ndon't needlessly encrypt VM communication inside one node."]}),"\n",(0,r.jsx)(n.h3,{id:"avoid-redundant-encryption-1",children:"Avoid redundant encryption"}),"\n",(0,r.jsxs)(n.p,{children:["As the encryption happens inside tunnels specific for inter-node workload\ncommunication, isolated on own network and also inside Geneve tunnels, no cloud\nservice data, which could be possibly encrypted on higher-levels (TLS) is\npossible here. As to the workload communication itself - detecting higher-layer\nencryption in a way that would allow IPsec",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ip",id:"user-content-fnref-ip-15","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"6"})})," to avoid redundant encryption\nis complex and would require custom modifications or non-standard solutions.\nIt's usually safer and more straightforward to allow the redundancy, ensuring\nsecurity at multiple layers, rather than trying to eliminate it."]}),"\n",(0,r.jsx)(n.h3,{id:"performance-impact-and-ease-of-use-1",children:"Performance impact and ease of use"}),"\n",(0,r.jsxs)(n.p,{children:["Setup is straightforward for the operator, there is just a flag to enable or\ndisable the IPsec",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ip",id:"user-content-fnref-ip-16","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"6"})})," encryption inside Geneve tunnels and the need to set the\nNeutron",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ne",id:"user-content-fnref-ne-12","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})})," agent to OVN",(0,r.jsx)(n.sup,{children:(0,r.jsx)(n.a,{href:"#user-content-fn-ov",id:"user-content-fnref-ov-10","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"11"})}),". No other configuration is necessary. The only\nother administrative burden is the deployment of certificates to provided\nconfiguration directory on the control node."]}),"\n",(0,r.jsx)(n.p,{children:"Certificate management for this solution can and should be handled in the same\nway as for the backend service certificates which are part of the ongoing\nefforts to provide complete service communication encryption in kolla-ansible.\nCurrently the management of these certificates is partially left on external\nprocesses, but if a toolset or a process would be devised inside the project,\nthis solution would fit in."}),"\n",(0,r.jsx)(n.h3,{id:"upstream-integration-1",children:"Upstream integration"}),"\n",(0,r.jsx)(n.p,{children:"The potential for upstream adoption and long-term maintainability makes this a\npromising direction for securing inter-node communication in OpenStack\nenvironments."}),"\n",(0,r.jsx)(n.h2,{id:"references",children:"References"}),"\n","\n",(0,r.jsxs)(n.section,{"data-footnotes":!0,className:"footnotes",children:[(0,r.jsx)(n.h2,{className:"sr-only",id:"footnote-label",children:"Footnotes"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{id:"user-content-fn-rfc",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/rfc8926#name-inter-data-center-traffic",children:"RFC8926"})," ",(0,r.jsx)(n.a,{href:"#user-content-fnref-rfc","data-footnote-backref":"","aria-label":"Back to reference 1",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-ne",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://docs.openstack.org/neutron/latest/",children:"Neutron"})," - networking as a service (NaaS) in OpenStack ",(0,r.jsx)(n.a,{href:"#user-content-fnref-ne","data-footnote-backref":"","aria-label":"Back to reference 2",className:"data-footnote-backref",children:"\u21a9"})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ne-2","data-footnote-backref":"","aria-label":"Back to reference 2-2",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"2"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ne-3","data-footnote-backref":"","aria-label":"Back to reference 2-3",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"3"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ne-4","data-footnote-backref":"","aria-label":"Back to reference 2-4",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"4"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ne-5","data-footnote-backref":"","aria-label":"Back to reference 2-5",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"5"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ne-6","data-footnote-backref":"","aria-label":"Back to reference 2-6",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"6"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ne-7","data-footnote-backref":"","aria-label":"Back to reference 2-7",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"7"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ne-8","data-footnote-backref":"","aria-label":"Back to reference 2-8",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"8"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ne-9","data-footnote-backref":"","aria-label":"Back to reference 2-9",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"9"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ne-10","data-footnote-backref":"","aria-label":"Back to reference 2-10",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"10"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ne-11","data-footnote-backref":"","aria-label":"Back to reference 2-11",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"11"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ne-12","data-footnote-backref":"","aria-label":"Back to reference 2-12",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"12"})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-eb",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/EBPF",children:"eBPF"})," ",(0,r.jsx)(n.a,{href:"#user-content-fnref-eb","data-footnote-backref":"","aria-label":"Back to reference 3",className:"data-footnote-backref",children:"\u21a9"})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-eb-2","data-footnote-backref":"","aria-label":"Back to reference 3-2",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"2"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-eb-3","data-footnote-backref":"","aria-label":"Back to reference 3-3",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"3"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-eb-4","data-footnote-backref":"","aria-label":"Back to reference 3-4",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"4"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-eb-5","data-footnote-backref":"","aria-label":"Back to reference 3-5",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"5"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-eb-6","data-footnote-backref":"","aria-label":"Back to reference 3-6",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"6"})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-ia",children:["\n",(0,r.jsxs)(n.p,{children:["Team IaaS call ",(0,r.jsx)(n.a,{href:"https://github.com/SovereignCloudStack/minutes/blob/main/iaas/20240214.md",children:"minutes"})," ",(0,r.jsx)(n.a,{href:"#user-content-fnref-ia","data-footnote-backref":"","aria-label":"Back to reference 4",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-sw",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://www.openvswitch.org/",children:"open vSwitch"})," ",(0,r.jsx)(n.a,{href:"#user-content-fnref-sw","data-footnote-backref":"","aria-label":"Back to reference 5",className:"data-footnote-backref",children:"\u21a9"})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-sw-2","data-footnote-backref":"","aria-label":"Back to reference 5-2",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"2"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-sw-3","data-footnote-backref":"","aria-label":"Back to reference 5-3",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"3"})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-ip",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/IPsec",children:"IPsec"})," ",(0,r.jsx)(n.a,{href:"#user-content-fnref-ip","data-footnote-backref":"","aria-label":"Back to reference 6",className:"data-footnote-backref",children:"\u21a9"})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ip-2","data-footnote-backref":"","aria-label":"Back to reference 6-2",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"2"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ip-3","data-footnote-backref":"","aria-label":"Back to reference 6-3",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"3"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ip-4","data-footnote-backref":"","aria-label":"Back to reference 6-4",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"4"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ip-5","data-footnote-backref":"","aria-label":"Back to reference 6-5",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"5"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ip-6","data-footnote-backref":"","aria-label":"Back to reference 6-6",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"6"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ip-7","data-footnote-backref":"","aria-label":"Back to reference 6-7",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"7"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ip-8","data-footnote-backref":"","aria-label":"Back to reference 6-8",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"8"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ip-9","data-footnote-backref":"","aria-label":"Back to reference 6-9",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"9"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ip-10","data-footnote-backref":"","aria-label":"Back to reference 6-10",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"10"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ip-11","data-footnote-backref":"","aria-label":"Back to reference 6-11",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"11"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ip-12","data-footnote-backref":"","aria-label":"Back to reference 6-12",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"12"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ip-13","data-footnote-backref":"","aria-label":"Back to reference 6-13",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"13"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ip-14","data-footnote-backref":"","aria-label":"Back to reference 6-14",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"14"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ip-15","data-footnote-backref":"","aria-label":"Back to reference 6-15",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"15"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ip-16","data-footnote-backref":"","aria-label":"Back to reference 6-16",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"16"})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-to",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://docs.openstack.org/developer/tripleo-docs/",children:"TripleO"})," - OpenStack on OpenStack ",(0,r.jsx)(n.a,{href:"#user-content-fnref-to","data-footnote-backref":"","aria-label":"Back to reference 7",className:"data-footnote-backref",children:"\u21a9"})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-to-2","data-footnote-backref":"","aria-label":"Back to reference 7-2",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"2"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-to-3","data-footnote-backref":"","aria-label":"Back to reference 7-3",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"3"})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-ci",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://cilium.io/",children:"Cillium"})," ",(0,r.jsx)(n.a,{href:"#user-content-fnref-ci","data-footnote-backref":"","aria-label":"Back to reference 8",className:"data-footnote-backref",children:"\u21a9"})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ci-2","data-footnote-backref":"","aria-label":"Back to reference 8-2",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"2"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ci-3","data-footnote-backref":"","aria-label":"Back to reference 8-3",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"3"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ci-4","data-footnote-backref":"","aria-label":"Back to reference 8-4",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"4"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ci-5","data-footnote-backref":"","aria-label":"Back to reference 8-5",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"5"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ci-6","data-footnote-backref":"","aria-label":"Back to reference 8-6",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"6"})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-ta",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://tailscale.com/solutions/devops",children:"Tailscale"})," ",(0,r.jsx)(n.a,{href:"#user-content-fnref-ta","data-footnote-backref":"","aria-label":"Back to reference 9",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-wg",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://www.wireguard.com/",children:"WireGuard"})," ",(0,r.jsx)(n.a,{href:"#user-content-fnref-wg","data-footnote-backref":"","aria-label":"Back to reference 10",className:"data-footnote-backref",children:"\u21a9"})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-wg-2","data-footnote-backref":"","aria-label":"Back to reference 10-2",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"2"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-wg-3","data-footnote-backref":"","aria-label":"Back to reference 10-3",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"3"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-wg-4","data-footnote-backref":"","aria-label":"Back to reference 10-4",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"4"})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-ov",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://www.ovn.org/en/",children:"Open Virtual Network"})," (OVN) ",(0,r.jsx)(n.a,{href:"#user-content-fnref-ov","data-footnote-backref":"","aria-label":"Back to reference 11",className:"data-footnote-backref",children:"\u21a9"})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ov-2","data-footnote-backref":"","aria-label":"Back to reference 11-2",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"2"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ov-3","data-footnote-backref":"","aria-label":"Back to reference 11-3",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"3"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ov-4","data-footnote-backref":"","aria-label":"Back to reference 11-4",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"4"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ov-5","data-footnote-backref":"","aria-label":"Back to reference 11-5",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"5"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ov-6","data-footnote-backref":"","aria-label":"Back to reference 11-6",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"6"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ov-7","data-footnote-backref":"","aria-label":"Back to reference 11-7",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"7"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ov-8","data-footnote-backref":"","aria-label":"Back to reference 11-8",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"8"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ov-9","data-footnote-backref":"","aria-label":"Back to reference 11-9",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"9"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ov-10","data-footnote-backref":"","aria-label":"Back to reference 11-10",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"10"})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-kl",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://opendev.org/openstack/kolla",children:"kolla"})," project ",(0,r.jsx)(n.a,{href:"#user-content-fnref-kl","data-footnote-backref":"","aria-label":"Back to reference 12",className:"data-footnote-backref",children:"\u21a9"})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-kl-2","data-footnote-backref":"","aria-label":"Back to reference 12-2",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"2"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-kl-3","data-footnote-backref":"","aria-label":"Back to reference 12-3",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"3"})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-ka",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://docs.openstack.org/kolla-ansible/latest/",children:"kolla-ansible"})," project ",(0,r.jsx)(n.a,{href:"#user-content-fnref-ka","data-footnote-backref":"","aria-label":"Back to reference 13",className:"data-footnote-backref",children:"\u21a9"})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ka-2","data-footnote-backref":"","aria-label":"Back to reference 13-2",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"2"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ka-3","data-footnote-backref":"","aria-label":"Back to reference 13-3",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"3"})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-ms",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/IEEE_802.1AE",children:"MACsec standard"})," ",(0,r.jsx)(n.a,{href:"#user-content-fnref-ms","data-footnote-backref":"","aria-label":"Back to reference 14",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-lkc",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://www.kernel.org/doc/html/v4.10/crypto/index.html",children:"Linux Kernel Crypto API"})," ",(0,r.jsx)(n.a,{href:"#user-content-fnref-lkc","data-footnote-backref":"","aria-label":"Back to reference 15",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-ie",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://www.ietf.org/",children:"Internet Engineering Task Force"})," (IETF) ",(0,r.jsx)(n.a,{href:"#user-content-fnref-ie","data-footnote-backref":"","aria-label":"Back to reference 16",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-ipwh",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://destcert.com/resources/why-the-is-ipsec-so-complicated/",children:"Why is IPsec so complicated"})," ",(0,r.jsx)(n.a,{href:"#user-content-fnref-ipwh","data-footnote-backref":"","aria-label":"Back to reference 17",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-wgwp",children:["\n",(0,r.jsxs)(n.p,{children:["WireGuard ",(0,r.jsx)(n.a,{href:"https://www.wireguard.com/papers/wireguard.pdf",children:"white paper"})," ",(0,r.jsx)(n.a,{href:"#user-content-fnref-wgwp","data-footnote-backref":"","aria-label":"Back to reference 18",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-oit",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://docs.ovn.org/en/latest/tutorials/ovn-ipsec.html",children:"OVN IPsec tutorial"})," ",(0,r.jsx)(n.a,{href:"#user-content-fnref-oit","data-footnote-backref":"","aria-label":"Back to reference 19",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-neci1",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://gist.github.com/oblazek/466a9ae836f663f8349b71e76abaee7e",children:"Neutron + Cilium architecture example"})," ",(0,r.jsx)(n.a,{href:"#user-content-fnref-neci1","data-footnote-backref":"","aria-label":"Back to reference 20",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-neci2",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://github.com/cilium/cilium/issues/13433",children:"Neutron + Cilium Proposal"})," ",(0,r.jsx)(n.a,{href:"#user-content-fnref-neci2","data-footnote-backref":"","aria-label":"Back to reference 21",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-ca",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://docs.tigera.io/calico/latest/about",children:"Calico"})," ",(0,r.jsx)(n.a,{href:"#user-content-fnref-ca","data-footnote-backref":"","aria-label":"Back to reference 22",className:"data-footnote-backref",children:"\u21a9"})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ca-2","data-footnote-backref":"","aria-label":"Back to reference 22-2",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"2"})]})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-caos",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://docs.tigera.io/calico/latest/getting-started/openstack/overview",children:"Calico for OpenStack"})," ",(0,r.jsx)(n.a,{href:"#user-content-fnref-caos","data-footnote-backref":"","aria-label":"Back to reference 23",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{id:"user-content-fn-ls",children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://libreswan.org/",children:"Libreswan"})," VPN software ",(0,r.jsx)(n.a,{href:"#user-content-fnref-ls","data-footnote-backref":"","aria-label":"Back to reference 24",className:"data-footnote-backref",children:"\u21a9"})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ls-2","data-footnote-backref":"","aria-label":"Back to reference 24-2",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"2"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ls-3","data-footnote-backref":"","aria-label":"Back to reference 24-3",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"3"})]})," ",(0,r.jsxs)(n.a,{href:"#user-content-fnref-ls-4","data-footnote-backref":"","aria-label":"Back to reference 24-4",className:"data-footnote-backref",children:["\u21a9",(0,r.jsx)(n.sup,{children:"4"})]})]}),"\n"]}),"\n"]}),"\n"]})]})}function f(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>s});var a=t(96540);const r={},o=a.createContext(r);function i(e){const n=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(o.Provider,{value:n},e.children)}}}]);