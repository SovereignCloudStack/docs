"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[71682],{84512:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"scs-0211-v2-kaas-default-storage-class","title":"SCS KaaS default storage class","description":"The SCS-0211 standard ensures that a default StorageClass with specific characteristics is available to KaaS users.\\n","source":"@site/standards/scs-0211-v2-kaas-default-storage-class.md","sourceDirName":".","slug":"/scs-0211-v2-kaas-default-storage-class","permalink":"/standards/scs-0211-v2-kaas-default-storage-class","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"SCS KaaS default storage class","type":"Standard","status":"Draft","replaces":"scs-0211-v1-kaas-default-storage-class.md","track":"KaaS","description":"The SCS-0211 standard ensures that a default StorageClass with specific characteristics is available to KaaS users.\\n"},"sidebar":"standards","previous":{"title":"V1","permalink":"/standards/scs-0211-v1-kaas-default-storage-class"},"next":{"title":"W1","permalink":"/standards/scs-0211-w1-kaas-default-storage-class-implementation-testing"}}');var r=t(74848),n=t(28453);const o={title:"SCS KaaS default storage class",type:"Standard",status:"Draft",replaces:"scs-0211-v1-kaas-default-storage-class.md",track:"KaaS",description:"The SCS-0211 standard ensures that a default StorageClass with specific characteristics is available to KaaS users.\n"},i=void 0,l={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Motivation",id:"motivation",level:2},{value:"Decision",id:"decision",level:2},{value:"Recommended non-performance-related properties",id:"recommended-non-performance-related-properties",level:3},{value:"Required performance-related properties",id:"required-performance-related-properties",level:3},{value:"Previous standard versions",id:"previous-standard-versions",level:2},{value:"Conformance Tests",id:"conformance-tests",level:2}];function d(e){const s={a:"a",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsx)(s.p,{children:"This is the standard v2 for SCS Release 7."}),"\n",(0,r.jsxs)(s.p,{children:["Cluster consumers can request persistent storage via ",(0,r.jsx)(s.a,{href:"https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims",children:(0,r.jsx)(s.code,{children:"PersistentVolumeClaims"})}),", which is provisioned\nautomatically by cloud-provided automation.\nStorage requirements may vary across use cases, so there is the concept of storage classes (",(0,r.jsx)(s.code,{children:"StorageClass"}),").\nStorage classes define some set of storage properties and consumers can choose one of these depending on the use case."]}),"\n",(0,r.jsx)(s.h2,{id:"motivation",children:"Motivation"}),"\n",(0,r.jsx)(s.p,{children:"A lot of third-party software, such as Helm charts, assume that a default storage class is configured.\nThus, for an out-of-the-box working experience, a SCS compliant Kubernetes cluster should come\npreconfigured with a sensible default storage class providing persistent storage."}),"\n",(0,r.jsx)(s.h2,{id:"decision",children:"Decision"}),"\n",(0,r.jsxs)(s.p,{children:["A freshly provisioned Kubernetes cluster MUST have a default storage class, i.e., a ",(0,r.jsx)(s.code,{children:"StorageClass"}),"\nobject that is annotated with ",(0,r.jsx)(s.code,{children:"storageclass.kubernetes.io/is-default-class=true"})," as described in the\n",(0,r.jsx)(s.a,{href:"https://kubernetes.io/docs/tasks/administer-cluster/change-default-storage-class/",children:"Kubernetes documentation"}),".\nThe name of this storage class is not standardized."]}),"\n",(0,r.jsx)(s.h3,{id:"recommended-non-performance-related-properties",children:"Recommended non-performance-related properties"}),"\n",(0,r.jsx)(s.p,{children:"The following recommendations are not completely tested yet and therefore do not represent hard requirement criteria so far. Nevertheless, they are important prerequisites for ensuring data storage stability. Generally, these criteria are met by choosing the right provisioner such as Cinder CSI Provisioner. And this shall be cross-checked against a list of provisioners."}),"\n",(0,r.jsx)(s.p,{children:"If the persistent volumes (PV) provisioned by the provided default storage class are required to be failure-safe they MUST fulfill all\nof the following properties:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["MUST support the ",(0,r.jsx)(s.code,{children:"ReadWriteOnce"})," ",(0,r.jsx)(s.a,{href:"https://kubernetes.io/docs/concepts/storage/persistent-volumes/#access-modes",children:"access mode"}),"."]}),"\n",(0,r.jsx)(s.li,{children:"MUST NOT be bound to the lifecycle of a Kubernetes node."}),"\n",(0,r.jsxs)(s.li,{children:["MUST NOT be backed by local or ephemeral storage.",(0,r.jsx)(s.br,{}),"\n","This means:","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"MUST NOT be backed by local storage on the Kubernetes Node VM itself."}),"\n",(0,r.jsx)(s.li,{children:"MAY be backed by some kind of redundant storage within an AZ, across hosts."}),"\n",(0,r.jsx)(s.li,{children:"MAY be backed by some kind of redundant storage across AZ's."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Volumes that are not necessarily required to be failure-safe may be local/node-bound/non-redundant. This might be the case with fast to run applications that take care of data durability and availability on application level."}),"\n",(0,r.jsxs)(s.p,{children:["The provisioned storage class MAY support volume expansion (",(0,r.jsx)(s.code,{children:"allowVolumeExpansion=true"}),")."]}),"\n",(0,r.jsx)(s.h3,{id:"required-performance-related-properties",children:"Required performance-related properties"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.em,{children:"NO"})," fixed guarantees regarding latency/bandwidth/IOPS/etc.\nGenerally, customers should be able to expect low-tier performance without pricing surprises."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"previous-standard-versions",children:"Previous standard versions"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"/standards/scs-0211-v1-kaas-default-storage-class",children:"Version v1 of this standard"})," did not enforce the\nexistence of a default storage class in a newly created cluster."]}),"\n",(0,r.jsx)(s.h2,{id:"conformance-tests",children:"Conformance Tests"}),"\n",(0,r.jsxs)(s.p,{children:["Is currently under progress ",(0,r.jsx)(s.a,{href:"https://github.com/SovereignCloudStack/standards/pull/658",children:"stage: pull-request"}),"."]})]})}function u(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>o,x:()=>i});var a=t(96540);const r={},n=a.createContext(r);function o(e){const s=a.useContext(n);return a.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),a.createElement(n.Provider,{value:s},e.children)}}}]);