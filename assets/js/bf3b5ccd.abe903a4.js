"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[91013],{2555:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>r,contentTitle:()=>a,default:()=>b,frontMatter:()=>d,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"iaas/deployment-examples/testbed/troubleshooting","title":"Troubleshooting","description":"Ansible errors","source":"@site/docs/02-iaas/deployment-examples/testbed/troubleshooting.mdx","sourceDirName":"02-iaas/deployment-examples/testbed","slug":"/iaas/deployment-examples/testbed/troubleshooting","permalink":"/docs/iaas/deployment-examples/testbed/troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/SovereignCloudStack/docs/tree/main/docs/02-iaas/deployment-examples/testbed/troubleshooting.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_label":"Troubleshooting","sidebar_position":4},"sidebar":"docs","previous":{"title":"Usage","permalink":"/docs/iaas/deployment-examples/testbed/usage"},"next":{"title":"Appendix","permalink":"/docs/iaas/deployment-examples/testbed/appendix"}}');var o=t(74848),i=t(28453);const d={sidebar_label:"Troubleshooting",sidebar_position:4},a="Troubleshooting",r={},l=[{value:"Ansible errors",id:"ansible-errors",level:2},{value:"Unsupported locale setting",id:"unsupported-locale-setting",level:2},{value:"Static entries in <code>/etc/hosts</code>",id:"static-entries-in-etchosts",level:2}];function c(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.header,{children:(0,o.jsx)(s.h1,{id:"troubleshooting",children:"Troubleshooting"})}),"\n",(0,o.jsx)(s.h2,{id:"ansible-errors",children:"Ansible errors"}),"\n",(0,o.jsxs)(s.p,{children:["Ansible errors that have something to do with undefined variables (e.g. ",(0,o.jsx)(s.code,{children:"AnsibleUndefined"}),") are most likely due to cached facts that are no longer valid. The facts can be updated by running ",(0,o.jsx)(s.code,{children:"osism apply facts"}),"."]}),"\n",(0,o.jsx)(s.h2,{id:"unsupported-locale-setting",children:"Unsupported locale setting"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"$ make prepare\nansible-playbook -i localhost, ansible/check-local-versions.yml\nERROR: Ansible could not initialize the preferred locale: unsupported locale setting\nmake: *** [prepare] Error 1\n"})}),"\n",(0,o.jsxs)(s.p,{children:["To solve the problem you have to modify the ",(0,o.jsx)(s.code,{children:"Makefile"}),". Change the 1st line as follows."]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"export LC_ALL=en_US.UTF-8\n"})}),"\n",(0,o.jsxs)(s.p,{children:["To find out the locale used on the system ",(0,o.jsx)(s.code,{children:"printenv"})," can be used."]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:'$ printenv | grep -i lang|locale\nLANG="en_US.UTF-8"\nLC_COLLATE="en_US.UTF-8"\nLC_CTYPE="UTF-8"\nLC_MESSAGES="en_US.UTF-8"\nLC_MONETARY="en_US.UTF-8"\nLC_NUMERIC="en_US.UTF-8"\nLC_TIME="en_US.UTF-8"\nLC_ALL=\n'})}),"\n",(0,o.jsxs)(s.h2,{id:"static-entries-in-etchosts",children:["Static entries in ",(0,o.jsx)(s.code,{children:"/etc/hosts"})]}),"\n",(0,o.jsxs)(s.p,{children:["If you are unable to access the following domains, you can customize your local ",(0,o.jsx)(s.code,{children:"/etc/hosts"}),"\nwith the following static entries. This may be necessary, for example, if you use Pi-hole and\nall DNS entries from a public DNS with a non-public IP address are filtered."]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"# OSISM Testbed hosts\n192.168.16.5   ara.testbed.osism.xyz             ara\n192.168.16.5   cgit.testbed.osism.xyz            cgit\n192.168.16.5   flower.testbed.osism.xyz          flower\n192.168.16.5   homer.testbed.osism.xyz           homer\n192.168.16.5   netbox.testbed.osism.xyz          netbox\n192.168.16.5   testbed-manager.testbed.osism.xyz testbed-manager\n192.168.16.5   nexus.testbed.osism.xyz           nexus\n192.168.16.5   phpmyadmin.testbed.osism.xyz      phpmyadmin\n192.168.16.9   api-int.testbed.osism.xyz         api-int\n192.168.16.10  testbed-node-0.testbed.osism.xyz  testbed-node-0\n192.168.16.11  testbed-node-1.testbed.osism.xyz  testbed-node-1\n192.168.16.12  testbed-node-2.testbed.osism.xyz  testbed-node-2\n192.168.16.13  testbed-node-3.testbed.osism.xyz  testbed-node-3\n192.168.16.14  testbed-node-4.testbed.osism.xyz  testbed-node-4\n192.168.16.15  testbed-node-5.testbed.osism.xyz  testbed-node-5\n192.168.16.16  testbed-node-6.testbed.osism.xyz  testbed-node-6\n192.168.16.17  testbed-node-7.testbed.osism.xyz  testbed-node-7\n192.168.16.18  testbed-node-8.testbed.osism.xyz  testbed-node-8\n192.168.16.19  testbed-node-9.testbed.osism.xyz  testbed-node-9\n192.168.16.100 keycloak.testbed.osism.xyz        keycloak\n192.168.16.254 api.testbed.osism.xyz             api\n"})})]})}function b(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>d,x:()=>a});var n=t(96540);const o={},i=n.createContext(o);function d(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:d(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);