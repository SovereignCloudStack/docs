"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[31669],{92725:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>r,contentTitle:()=>d,default:()=>o,frontMatter:()=>c,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"operating-scs/components/status-page-api/docs/example-requests","title":"Example requests","description":"Example request for common API requests.","source":"@site/docs/04-operating-scs/components/status-page-api/docs/example-requests.md","sourceDirName":"04-operating-scs/components/status-page-api/docs","slug":"/operating-scs/components/status-page-api/docs/example-requests","permalink":"/docs/operating-scs/components/status-page-api/docs/example-requests","draft":false,"unlisted":false,"editUrl":"https://github.com/SovereignCloudStack/docs/tree/main/docs/04-operating-scs/components/status-page-api/docs/example-requests.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Requests","permalink":"/docs/operating-scs/components/status-page-api/docs/requests"},"next":{"title":"Contribute","permalink":"/docs/operating-scs/components/status-page-api/docs/contribute"}}');var a=s(74848),i=s(28453);const c={},d="Example requests",r={},l=[{value:"List phases",id:"list-phases",level:2},{value:"Create phases",id:"create-phases",level:2},{value:"List impact types",id:"list-impact-types",level:2},{value:"Create impact type",id:"create-impact-type",level:2},{value:"Get impact type",id:"get-impact-type",level:2},{value:"List severities",id:"list-severities",level:2},{value:"Create severity",id:"create-severity",level:2},{value:"Get severity",id:"get-severity",level:2},{value:"List components",id:"list-components",level:2},{value:"Create component",id:"create-component",level:2},{value:"Get component",id:"get-component",level:2},{value:"List incidents",id:"list-incidents",level:2},{value:"Create incident",id:"create-incident",level:2},{value:"Get incident",id:"get-incident",level:2},{value:"List incident update",id:"list-incident-update",level:2},{value:"Create incident update",id:"create-incident-update",level:2},{value:"Get incident update",id:"get-incident-update",level:2}];function p(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"example-requests",children:"Example requests"})}),"\n",(0,a.jsx)(t.p,{children:"Example request for common API requests."}),"\n",(0,a.jsxs)(t.p,{children:["Request can either be performed against the local API server at ",(0,a.jsx)(t.code,{children:"localhost:3000"})," or against the public release of the API server at ",(0,a.jsx)(t.a,{href:"https://status-api.k8s.scs.community/",children:"status-api.k8s.scs.community"}),". When using the public release authorization via bearer token must be included. Please refer to the ",(0,a.jsx)(t.a,{href:"https://github.com/SovereignCloudStack/status-page-deployment",children:"status page deployment"}),".\nLocal instances of the API can use ",(0,a.jsx)(t.code,{children:"STATUS_PAGE_SWAGGER_UI_ENABLED=true"})," to perform request with swagger at ",(0,a.jsx)(t.code,{children:"localhost:3000/swagger"}),". Any instance of the API can be used with the included ",(0,a.jsx)(t.a,{href:"https://www.usebruno.com/",children:"Bruno"})," collection."]}),"\n",(0,a.jsx)(t.p,{children:"All examples include the public release with authorization header."}),"\n",(0,a.jsx)(t.h2,{id:"list-phases",children:"List phases"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'$ curl -sL \\\nhttps://status-api.k8s.scs.community/phases\n\n{"data":{"generation":1,"phases":["Scheduled","Investigation ongoing","Working on it","Potential fix deployed","Done"]}}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"create-phases",children:"Create phases"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'$ curl -sL \\\n-X POST \\\n-H \'Authorization: Bearer <your-id-token>\' \\\n-H \'Content-Type: application/json\' \\\n-d \'{"phases": ["Phase 1", "Phase 2", "Phase 3"]}\' \\\nhttps://status-api.k8s.scs.community/phases\n\n{"generation":2}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"list-impact-types",children:"List impact types"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'$ curl -sL \\\nhttps://status-api.k8s.scs.community/impacttypes\n\n{"data":[{"displayName":"Performance Degradation","id":"63645189-ffbc-4e6c-b991-99e14ade3edc"},{"displayName":"Connectivity Problems","id":"9fcf0039-9e24-45b0-b76a-80e6246a803b"},{"displayName":"Unknown","id":"6cadd69a-5702-4824-b7a6-d5509c54b8cb"}]}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"create-impact-type",children:"Create impact type"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"$ curl -sL \\\n-X 'POST' \\\n-H 'Authorization: Bearer <your-id-token>' \\\n-H 'Content-Type: application/json' \\\n-d '{\"displayName\": \"Test impact type\"}' \\\nhttps://status-api.k8s.scs.community/impacttypes\n\n{\"id\":\"52d178d2-0fe9-4654-834b-42502283454d\"}\n"})}),"\n",(0,a.jsx)(t.h2,{id:"get-impact-type",children:"Get impact type"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'$ curl -sL \\\nhttps://status-api.k8s.scs.community/impacttypes/52d178d2-0fe9-4654-834b-42502283454d\n\n{"data":{"displayName":"Test impact type","id":"52d178d2-0fe9-4654-834b-42502283454d"}}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"list-severities",children:"List severities"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'$ curl -sL \\\nhttps://status-api.k8s.scs.community/severities\n\n{"data":[{"displayName":"operational","value":25},{"displayName":"maintenance","value":50},{"displayName":"limited","value":75},{"displayName":"broken","value":100}]}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"create-severity",children:"Create severity"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"curl -sL \\\n-X POST \\\n-H 'Authorization: Bearer <your-id-token>' \\\n-H 'Content-Type: application/json' \\\n-d '{\"displayName\": \"test\",\"value\": 60}'\nhttps://status-api.k8s.scs.community/severities\n"})}),"\n",(0,a.jsx)(t.h2,{id:"get-severity",children:"Get severity"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'$ curl -sL \\\nhttps://status-api.k8s.scs.community/severities/test\n\n{"data":{"displayName":"test","value":60}}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"list-components",children:"List components"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'$ curl -sL \\\nhttps://status-api.k8s.scs.community/components\n\n{"data":[{"activelyAffectedBy":[],"displayName":"Storage","id":"871584dc-e425-4155-8fde-47ca588689f3","labels":{}},{"activelyAffectedBy":[],"displayName":"Network","id":"414d764f-0c94-4c4d-90e6-c97cce00cce3","labels":{}},...]}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"create-component",children:"Create component"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'curl -sL \\\n-X POST \\\n-H \'Authorization: Bearer <your-id-token>\' \\\n-H \'Content-Type: application/json\' \\\n-d \'{"displayName":"Test-Component"}\'\\\nhttps://status-api.k8s.scs.community/components\n\n{"id":"3ebed33a-a80c-4888-b3d3-2677e87c25e7"}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"get-component",children:"Get component"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'$ curl -sL \\\nhttps://status-api.k8s.scs.community/components/3ebed33a-a80c-4888-b3d3-2677e87c25e7\n\n{"data":{"activelyAffectedBy":[{"reference":"09f471bb-b0af-4528-a021-f23f31e2d1c9","severity":90,"type":"52d178d2-0fe9-4654-834b-42502283454d"}],"displayName":"Test-Component","id":"3ebed33a-a80c-4888-b3d3-2677e87c25e7"}}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"list-incidents",children:"List incidents"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'$ curl -sL \\\n\'http://localhost:3000/incidents?start=2024-04-01T10%3A10%3A10.010Z&end=2024-04-30T10%3A10%3A10.010Z\'\n\n{"data":[{"affects":[{"reference":"3ebed33a-a80c-4888-b3d3-2677e87c25e7","type":"52d178d2-0fe9-4654-834b-42502283454d"}],"beganAt":"2024-04-03T08:00:00+02:00","description":"A test incident.","displayName":"Test-Incident","endedAt":null,"id":"09f471bb-b0af-4528-a021-f23f31e2d1c9","phase":{"generation":0,"order":0},"updates":[]}]}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"create-incident",children:"Create incident"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'$ curl -sL \\\n-X POST \\\n-H \'Authorization: Bearer <your-id-token>\' \\\n-H \'Content-Type: application/json\' \\\n-d \'{"affects":[{"reference":"3ebed33a-a80c-4888-b3d3-2677e87c25e7","severity":90,"type":"52d178d2-0fe9-4654-834b-42502283454d"}],"beganAt":"2024-04-03T06:00:00.000Z","description":"A test incident.","displayName":"Test-Incident","phase":{}}\' \\\nhttps://status-api.k8s.scs.community/incidents\n\n{"id":"09f471bb-b0af-4528-a021-f23f31e2d1c9"}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"get-incident",children:"Get incident"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'$ curl -sL \\\nhttps://status-api.k8s.scs.community/incidents/09f471bb-b0af-4528-a021-f23f31e2d1c9\n\n{"data":{"affects":[{"reference":"3ebed33a-a80c-4888-b3d3-2677e87c25e7","type":"52d178d2-0fe9-4654-834b-42502283454d"}],"beganAt":"2024-04-03T08:00:00+02:00","description":"A test incident.","displayName":"Test-Incident","endedAt":null,"id":"09f471bb-b0af-4528-a021-f23f31e2d1c9","phase":{"generation":0,"order":0},"updates":[]}}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"list-incident-update",children:"List incident update"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'$ curl -sL \\\nhttps://status-api.k8s.scs.community/incidents/09f471bb-b0af-4528-a021-f23f31e2d1c9/updates\n\n{"data":[{"createdAt":"2024-04-03T08:15:00+02:00","description":"Example update for test incident","displayName":"Example Update","order":0}]}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"create-incident-update",children:"Create incident update"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'$ curl -sL \\\n-X POST \\\n-H \'Authorization: Bearer <your-id-token>\' \\\n-H \'Content-Type: application/json\' \\\n-d \'{"createdAt":"2024-04-03T06:15:00.000Z","description":"Example update for test incident","displayName":"Example Update"}\' \\\nhttps://status-api.k8s.scs.community/incidents/09f471bb-b0af-4528-a021-f23f31e2d1c9/updates\n\n{"order": 0}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"get-incident-update",children:"Get incident update"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'$ curl -sL \\\nhttps://status-api.k8s.scs.community/incidents/09f471bb-b0af-4528-a021-f23f31e2d1c9/updates/0\n\n{"data":{"createdAt":"2024-04-03T08:15:00+02:00","description":"Example update for test incident","displayName":"Example Update","order":0}}\n'})})]})}function o(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>c,x:()=>d});var n=s(96540);const a={},i=n.createContext(a);function c(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);