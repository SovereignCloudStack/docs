"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[73281],{75478:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"operating-scs/components/monitoring/docs/status-page","title":"Status page monitoring","description":"Prerequisites","source":"@site/docs/04-operating-scs/components/monitoring/docs/status-page.md","sourceDirName":"04-operating-scs/components/monitoring/docs","slug":"/operating-scs/components/monitoring/docs/status-page","permalink":"/docs/operating-scs/components/monitoring/docs/status-page","draft":false,"unlisted":false,"editUrl":"https://github.com/SovereignCloudStack/docs/tree/main/docs/04-operating-scs/components/monitoring/docs/status-page.md","tags":[],"version":"current","frontMatter":{}}');var o=n(74848),i=n(28453);const a={},r="Status page monitoring",l={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Local environment use case - KinD/K3s cluster deployed locally",id:"local-environment-use-case---kindk3s-cluster-deployed-locally",level:3},{value:"KinD",id:"kind",level:4},{value:"K3s",id:"k3s",level:4},{value:"OSISM use case - K3s cluster in OSISM deployment",id:"osism-use-case---k3s-cluster-in-osism-deployment",level:3},{value:"Deploy Status page monitoring",id:"deploy-status-page-monitoring",level:2},{value:"Access the Status page dashboards",id:"access-the-status-page-dashboards",level:3}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.header,{children:(0,o.jsx)(s.h1,{id:"status-page-monitoring",children:"Status page monitoring"})}),"\n",(0,o.jsx)(s.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(s.p,{children:["To test the Monitoring of the SCS Status page we expect running Kubernetes cluster that already contains\nSCS monitoring platform and Status page deployed in the dedicated ",(0,o.jsx)(s.code,{children:"status-page"})," namespace."]}),"\n",(0,o.jsx)(s.h3,{id:"local-environment-use-case---kindk3s-cluster-deployed-locally",children:"Local environment use case - KinD/K3s cluster deployed locally"}),"\n",(0,o.jsx)(s.h4,{id:"kind",children:"KinD"}),"\n",(0,o.jsxs)(s.p,{children:["Install the SCS monitoring solution into the KinD Kubernetes cluster following the instructions provided in\nthe ",(0,o.jsx)(s.a,{href:"/docs/operating-scs/components/monitoring/docs/quickstart",children:"quickstart guide"}),"."]}),"\n",(0,o.jsx)(s.h4,{id:"k3s",children:"K3s"}),"\n",(0,o.jsxs)(s.p,{children:["Install the SCS monitoring solution into the K3s Kubernetes cluster following the instructions provided in\nthe ",(0,o.jsx)(s.a,{href:"/docs/operating-scs/components/monitoring/docs/k3s",children:"k3s guide"}),"."]}),"\n",(0,o.jsx)(s.h3,{id:"osism-use-case---k3s-cluster-in-osism-deployment",children:"OSISM use case - K3s cluster in OSISM deployment"}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.a,{href:"https://osism.tech/docs/guides/deploy-guide/services/kubernetes",children:"OSISM"})," utilizes the k3s distribution of Kubernetes\nas a management cluster for the OSISM IaaS platform. This management cluster is then used as a host for\nthe SCS monitoring solution. Subsequently, the management cluster becomes an Observer cluster as it hosts\nthe SCS monitoring solution.\nFrom that point, the Observer cluster observes itself (i.e., k3s cluster control plane components and nodes) and is used\nfor observing the IaaS layer around the k3s cluster."]}),"\n",(0,o.jsxs)(s.p,{children:["In the case of the existing ",(0,o.jsx)(s.a,{href:"https://osism.tech/docs/release-notes/osism-7#703",children:"OSISM IaaS deployment >= 7.0.3"})," on\nbaremetal, ",(0,o.jsx)(s.a,{href:"https://osism.tech/docs/guides/other-guides/testbed",children:"testbed"})," or ",(0,o.jsx)(s.a,{href:"https://osism.tech/docs/guides/other-guides/cloud-in-a-box",children:"cloud in the box"}),"\nwe expect a management k3s Kubernetes cluster with the deployed SCS monitoring platform.\nIf your OSISM installation does not meet the above requirements, apply the following plays:"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"osism apply kubernetes\nosism apply kubernetes-monitoring\n"})}),"\n",(0,o.jsx)(s.h2,{id:"deploy-status-page-monitoring",children:"Deploy Status page monitoring"}),"\n",(0,o.jsx)(s.p,{children:"This step deploys the Grafana dashboards and instructs the monitoring stack to add the Status Page metrics targets into the Prometheus configuration:"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"helm upgrade dnation-kubernetes-monitoring-stack dnationcloud/dnation-kubernetes-monitoring-stack --reset-then-reuse-values -f status-page/status-page-values.yaml\n"})}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["Note: The ",(0,o.jsx)(s.code,{children:"--reset-then-reuse-values"})," option requires Helm v3.14.0 or later. Alternatively, you can use the original values\nby applying ",(0,o.jsx)(s.code,{children:"-f values-observer.yaml"}),", see full command: ",(0,o.jsx)(s.code,{children:"helm upgrade dnation-kubernetes-monitoring-stack dnationcloud/dnation-kubernetes-monitoring-stack -f values-observer.yaml -f status-page/status-page-values.yaml"})]}),"\n"]}),"\n",(0,o.jsx)(s.h3,{id:"access-the-status-page-dashboards",children:"Access the Status page dashboards"}),"\n",(0,o.jsx)(s.p,{children:"At this point, you should have the ability to access the Grafana UI, and Status page dashboards."}),"\n",(0,o.jsxs)(s.p,{children:["Log in to the Grafana UI and find the Status page dashboard in ",(0,o.jsx)(s.code,{children:"StatusPage"})," directory:"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"http://localhost:30000\n"})}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["Use the following credentials:","\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["username: ",(0,o.jsx)(s.code,{children:"admin"})]}),"\n",(0,o.jsxs)(s.li,{children:["password: ",(0,o.jsx)(s.code,{children:"pass"})]}),"\n"]}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>r});var t=n(96540);const o={},i=t.createContext(o);function a(e){const s=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),t.createElement(i.Provider,{value:s},e.children)}}}]);