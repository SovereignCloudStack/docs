"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[78340],{62465:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>r});const a=JSON.parse('{"id":"scs-0211-w1-kaas-default-storage-class-implementation-testing","title":"SCS KaaS default storage class: Implementation and Testing Notes","description":"Implementation notes","source":"@site/standards/scs-0211-w1-kaas-default-storage-class-implementation-testing.md","sourceDirName":".","slug":"/scs-0211-w1-kaas-default-storage-class-implementation-testing","permalink":"/standards/scs-0211-w1-kaas-default-storage-class-implementation-testing","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"SCS KaaS default storage class: Implementation and Testing Notes","type":"Supplement","track":"KaaS","supplements":["scs-0211-v1-kaas-default-storage-class.md"]},"sidebar":"standards","previous":{"title":"V2","permalink":"/standards/scs-0211-v2-kaas-default-storage-class"},"next":{"title":"scs-0212: Requirements for container registries","permalink":"/standards/kaas/scs-0212"}}');var n=s(74848),o=s(28453);const i={title:"SCS KaaS default storage class: Implementation and Testing Notes",type:"Supplement",track:"KaaS",supplements:["scs-0211-v1-kaas-default-storage-class.md"]},l=void 0,d={},r=[{value:"Implementation notes",id:"implementation-notes",level:2},{value:"Automated tests",id:"automated-tests",level:2},{value:"Notes",id:"notes",level:3},{value:"Implementation",id:"implementation",level:3},{value:"Manual tests",id:"manual-tests",level:2}];function c(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h2,{id:"implementation-notes",children:"Implementation notes"}),"\n",(0,n.jsxs)(t.p,{children:["A ",(0,n.jsx)(t.code,{children:"StorageClass"})," is made default by using the ",(0,n.jsx)(t.code,{children:"storageclass.kubernetes.io/is-default-class"}),"\nannotation; a standardized name is not given. ",(0,n.jsx)(t.code,{children:"ReadWriteOnce"})," must be supported by the volume,\nand it must be protected against data loss due to hardware failures.\nTherefore, volumes must not be bound to the lifecycle of a Kubernetes node and, at best,\nbe backed by some kind of redundant storage.\nGuarantees for latency, bandwidth, IOPS and so on are not given."]}),"\n",(0,n.jsxs)(t.p,{children:["The cost-intensive part of this standard would be the hardware failure protection by binding\nthe ",(0,n.jsx)(t.code,{children:"StorageClass"})," to redundant, non-lifecycle bound storage, since this would mean that\nstorage needs to be provided in a higher capacity to achieve the same usable capacity."]}),"\n",(0,n.jsx)(t.h2,{id:"automated-tests",children:"Automated tests"}),"\n",(0,n.jsx)(t.h3,{id:"notes",children:"Notes"}),"\n",(0,n.jsxs)(t.p,{children:["The test for the ",(0,n.jsx)(t.a,{href:"https://github.com/SovereignCloudStack/standards/blob/main/Standards/scs-0211-v1-kaas-default-storage-class.md",children:"SCS Kaas Default storage class"}),"\nchecks if a default storage class is available and if this storage class can be used\nto create a ",(0,n.jsx)(t.code,{children:"PersistentVolume"})," from a ",(0,n.jsx)(t.code,{children:"PersistentVolumeClaim"})," for a container."]}),"\n",(0,n.jsx)(t.h3,{id:"implementation",children:"Implementation"}),"\n",(0,n.jsxs)(t.p,{children:["The script ",(0,n.jsx)(t.a,{href:"https://github.com/SovereignCloudStack/standards/blob/main/Tests/kaas/k8s-default-storage-class/k8s-default-storage-class-check.py",children:(0,n.jsx)(t.code,{children:"k8s-default-storage-class-check.py"})}),"\nconnects to an existing K8s cluster and checks for the availability of a default storage class.\nThis can also be done via Sonobuoy."]}),"\n",(0,n.jsx)(t.h2,{id:"manual-tests",children:"Manual tests"}),"\n",(0,n.jsx)(t.p,{children:"None."})]})}function u(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>i,x:()=>l});var a=s(96540);const n={},o=a.createContext(n);function i(e){const t=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),a.createElement(o.Provider,{value:t},e.children)}}}]);