"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7035],{8134:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>p,frontMatter:()=>c,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"container/components/cluster-stacks/components/cluster-stacks/providers/openstack/kamaji","title":"Kamaji","description":"Prerequisites","source":"@site/docs/03-container/components/cluster-stacks/components/cluster-stacks/providers/openstack/kamaji.md","sourceDirName":"03-container/components/cluster-stacks/components/cluster-stacks/providers/openstack","slug":"/container/components/cluster-stacks/components/cluster-stacks/providers/openstack/kamaji","permalink":"/docs/container/components/cluster-stacks/components/cluster-stacks/providers/openstack/kamaji","draft":false,"unlisted":false,"editUrl":"https://github.com/SovereignCloudStack/docs/tree/main/docs/03-container/components/cluster-stacks/components/cluster-stacks/providers/openstack/kamaji.md","tags":[],"version":"current","frontMatter":{}}');var a=s(74848),r=s(28453);const c={},i="Kamaji",o={},l=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation",id:"installation",level:2},{value:"Kamaji Controller",id:"kamaji-controller",level:3},{value:"cluster-api-control-plane-provider-kamaji",id:"cluster-api-control-plane-provider-kamaji",level:3},{value:"Cluster Stacks",id:"cluster-stacks",level:3},{value:"Cluster",id:"cluster",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"kamaji",children:"Kamaji"})}),"\n",(0,a.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["A CAPI management cluster in an environment which can be reached from external","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Install CAPO, CSO and CSPO e.g. as described in ",(0,a.jsx)(n.a,{href:"/docs/container/components/cluster-stacks/components/cluster-stacks/providers/openstack/quickstart",children:"the openstack quickstart"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,a.jsx)(n.h3,{id:"kamaji-controller",children:"Kamaji Controller"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://kamaji.clastix.io/getting-started/#install-kamaji-controller",children:"Kamaji Controller"})}),"\n",(0,a.jsx)(n.h3,{id:"cluster-api-control-plane-provider-kamaji",children:"cluster-api-control-plane-provider-kamaji"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.code,{children:"clusterctl init --control-plane kamaji"})}),"\n",(0,a.jsx)(n.h3,{id:"cluster-stacks",children:"Cluster Stacks"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'---\napiVersion: clusterstack.x-k8s.io/v1alpha1\nkind: ClusterStack\nmetadata:\n  name: kamaji-130\nspec:\n  provider: openstack\n  name: kamaji\n  kubernetesVersion: "1.30"\n  channel: custom\n  autoSubscribe: false\n  providerRef:\n    apiVersion: infrastructure.clusterstack.x-k8s.io/v1alpha1\n    kind: OpenStackClusterStackReleaseTemplate\n    name: cspotemplate\n  versions:\n    - v0-sha.11930ee\n'})}),"\n",(0,a.jsx)(n.h3,{id:"cluster",children:"Cluster"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'apiVersion: cluster.x-k8s.io/v1beta1\nkind: Cluster\nmetadata:\n  name: kamaji-cluster\nspec:\n  topology:\n    class: openstack-kamaji-1-30-v0-sha.11930ee\n    variables:\n      - name: data_store\n        value: "default"\n      - name: dns_service_ips\n        value: ["10.96.0.10"]\n    controlPlane:\n      replicas: 3\n    version: v1.30.1\n    workers:\n      machineDeployments:\n        - class: default-worker\n          name: md-0\n          replicas: 1\n'})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>i});var t=s(96540);const a={},r=t.createContext(a);function c(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);