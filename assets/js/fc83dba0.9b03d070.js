"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7628],{2357:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"operating-scs/components/status-page-deployment/docs/kind","title":"kind - Local development environment","description":"kind is a tool to quickly setup a local development environment, to test and debug the deployment.","source":"@site/docs/04-operating-scs/components/status-page-deployment/docs/kind.md","sourceDirName":"04-operating-scs/components/status-page-deployment/docs","slug":"/operating-scs/components/status-page-deployment/docs/kind","permalink":"/docs/operating-scs/components/status-page-deployment/docs/kind","draft":false,"unlisted":false,"editUrl":"https://github.com/SovereignCloudStack/docs/tree/main/docs/04-operating-scs/components/status-page-deployment/docs/kind.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Configure status page","permalink":"/docs/operating-scs/components/status-page-deployment/docs/configuration"},"next":{"title":"k3s - A simple deployment on a single host","permalink":"/docs/operating-scs/components/status-page-deployment/docs/k3s"}}');var o=s(74848),i=s(28453);const r={},l="kind - Local development environment",d={},c=[{value:"&quot;Secrets&quot;",id:"secrets",level:2},{value:"Per Installation  Steps",id:"per-installation--steps",level:2},{value:"Setup",id:"setup",level:2},{value:"Deploy",id:"deploy",level:2},{value:"Port forward",id:"port-forward",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsxs)(n.h1,{id:"kind---local-development-environment",children:[(0,o.jsx)(n.code,{children:"kind"})," - Local development environment"]})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"kind"})," is a tool to quickly setup a local development environment, to test and debug the deployment."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"NOTE"}),": ",(0,o.jsx)(n.code,{children:"kind"})," is not considered to be used as any kind of productive deployment."]}),"\n",(0,o.jsx)(n.h2,{id:"secrets",children:'"Secrets"'}),"\n",(0,o.jsxs)(n.p,{children:['All "secrets" shared in ',(0,o.jsx)(n.code,{children:"kubernetes/environments/kind"})," are example values to get a local environment up and running. These values should be substituted by real and secure secrets."]}),"\n",(0,o.jsx)(n.h2,{id:"per-installation--steps",children:"Per Installation  Steps"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Install ",(0,o.jsx)(n.code,{children:"kind"})," from the ",(0,o.jsx)(n.a,{href:"https://kind.sigs.k8s.io/",children:"official website"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Clone the ",(0,o.jsx)(n.a,{href:"https://github.com/SovereignCloudStack/status-page-deployment",children:"status-page-deployment"})," repository","\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"git clone git@github.com:SovereignCloudStack/status-page-deployment.git\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["Create a ",(0,o.jsx)(n.a,{href:"https://docs.github.com/en/apps/oauth-apps/building-oauth-apps/creating-an-oauth-app",children:"Github OAuth app"})," for testing, see example data:\n(Note: It is ",(0,o.jsx)(n.strong,{children:"not critical"})," to share the data listed here, as this is only a test application which is reachable from localhost)","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Name: SCS Gatekeeper Test DEV"}),"\n",(0,o.jsxs)(n.li,{children:["Homepage URL: ",(0,o.jsx)(n.a,{href:"https://scs.community/",children:"https://scs.community/"})]}),"\n",(0,o.jsxs)(n.li,{children:["Authorization callback URL: ",(0,o.jsx)(n.a,{href:"http://localhost:8080/",children:"http://localhost:8080/"})]}),"\n",(0,o.jsxs)(n.li,{children:["Client ID: ",(0,o.jsx)(n.code,{children:"<generated>"})]}),"\n",(0,o.jsxs)(n.li,{children:["Client Secret: ",(0,o.jsx)(n.code,{children:"<generated>"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,o.jsxs)(n.p,{children:["Create a local ",(0,o.jsx)(n.code,{children:"kind"})," cluster with:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"make cluster\n"})}),"\n",(0,o.jsx)(n.h2,{id:"deploy",children:"Deploy"}),"\n",(0,o.jsxs)(n.p,{children:["All needed configurations and secrets, except Dex's GitHub app secrets, are set up in a ready to use kustomization: ",(0,o.jsx)(n.code,{children:"kubernetes/environments/kind/kustomization.yaml"}),", just assemble and deploy:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Create Github application"}),"\n",(0,o.jsxs)(n.li,{children:["Create and configure OAUTH config files","\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cp kubernetes/environments/kind/dex/dex-secrets-example.env kubernetes/environments/kind/dex/secrets.env\nvim kubernetes/environments/kind/dex/dex.env # configure GITHUB_CLIENT_ID\nvim kubernetes/environments/kind/dex/secrets.env # configure GITHUB_CLIENT_SECRET\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["Deploy Application","\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"make deploy\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["For further configuration see ",(0,o.jsx)(n.a,{href:"/docs/operating-scs/components/status-page-deployment/docs/configuration",children:(0,o.jsx)(n.code,{children:"configuration.md"})}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"port-forward",children:"Port forward"}),"\n",(0,o.jsxs)(n.p,{children:["The local ",(0,o.jsx)(n.code,{children:"kind"})," deployment uses ",(0,o.jsx)(n.a,{href:"https://caddyserver.com/",children:"Caddy"})," as reverse proxy, instead of ",(0,o.jsx)(n.code,{children:"Ingress"})," and ",(0,o.jsx)(n.code,{children:"IngressController"}),"s, to the cluster services.\nPort forward to the reverse proxy to start using the deployment locally."]}),"\n",(0,o.jsx)(n.p,{children:"For example:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"make forward\n"})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var t=s(96540);const o={},i=t.createContext(o);function r(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);